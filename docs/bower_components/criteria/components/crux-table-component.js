Lyte.Component.register("crux-table-component",{_template:'<template tag-name="crux-table-component">\t<lyte-table lt-prop-yield="true" id="{{cxPropTableId}}" style="height : {{cxPropHeight}}" onscroll="{{action(\'scroll\')}}">\t\t<template is="registerYield" yield-name="yield">\t\t\t<lyte-table-structure>\t\t\t\t<lyte-thead class="tablecomponent1 tableBdrCollapse tablecomponent" style="background : rgb(255,255,255);">\t\t\t\t\t<lyte-tr id="{{cxPropHeaderRowId}}">\t\t\t\t\t\t<template is="for" items="{{header}}" item="field" index="index">\t\t\t\t\t\t\t<template is="if" value="{{expHandlers(field.yield,\'==\',true)}}"><template case="true">\t\t\t\t\t\t\t\t<lyte-th fixed="{{field.fixed}}" width="{{field.width}}" style="{{field.style}}">\t\t\t\t\t\t\t\t\t<lyte-yield yield-name="header-{{field.yieldName}}"></lyte-yield>\t\t\t\t\t\t\t\t</lyte-th>\t\t\t\t\t\t\t</template><template case="false">\t\t\t\t\t\t\t\t<lyte-th class="{{cxPropColumnCellClass}}" id="{{field.id}}" onclick="{{action(\'sort\', field)}}" fixed="{{field.fixed}}" width="{{field.width}}" style="white-space: nowrap;">\t\t\t\t\t\t\t\t\t{{field[cxPropLabelSelector]}}\t\t\t\t\t\t\t\t\t<template is="if" value="{{expHandlers(field.id,\'==\',cxPropSortedColumn)}}"><template case="true">\t\t\t\t\t\t\t\t\t\t<span id="sorted_column.{{field.id}}" title="{{field.field_label}}" class="sort_{{cxPropSortedOrder}} svgIconsImg" data-param="{&quot;fieldid&quot;:&quot;{{field.id}}&quot;}"></span>\t\t\t\t\t\t\t\t\t</template></template>\t\t\t\t\t\t\t\t</lyte-th>\t\t\t\t\t\t\t</template></template>\t\t\t\t\t\t</template>\t\t\t\t\t</lyte-tr>\t\t\t\t</lyte-thead>\t\t\t\t<template is="if" value="{{cxPropContent.length}}"><template case="true">\t\t\t\t<lyte-tbody class="tableBdrCollapse tablecomponent2" id="{{cxPropBodyId}}">\t\t\t\t\t<template is="for" items="{{cxPropContent}}" item="row" index="index">\t\t\t\t\t\t<lyte-tr id="{{row.id}}" onclick="{{action(\'onRowClick\', row.id)}}" onmouseover="{{action(\'onMouseOver\', row.id)}}" onmouseout="{{action(\'onMouseOut\', row.id)}}" style="{{if(cruxContains(cxPropSelectedRows, row.id, cxPropSelectedRows.length),cxPropSelectedRowStyle)}}">\t\t\t\t\t\t\t<template is="for" items="{{header}}" item="field" index="index">\t\t\t\t\t\t\t\t<template is="if" value="{{expHandlers(field.yield,\'||\',field.yieldName)}}"><template case="true">\t\t\t\t\t\t\t\t\t<lyte-td style="{{field.style}}" fixed="{{field.fixed}}" width="{{field.width}}" class="{{field.class}}">\t\t\t\t\t\t\t\t\t\t<lyte-yield yield-name="body-{{field.yieldName}}" record-obj="{{row}}" field-obj="{{field}}" index-val="{{index}}"></lyte-yield>\t\t\t\t\t\t\t\t\t</lyte-td>\t\t\t\t\t\t\t\t</template><template case="false">\t\t\t\t\t\t\t\t\t<lyte-td class="{{field.class}} pR proxima color_4">\t\t\t\t\t\t\t\t\t\t\t<template is="if" value="{{field.cxTypeMapping}}"><template case="true"><template is="if" value="{{expHandlers(field.cxTypeMapping,\'==\',\'phone\')}}"><template case="true">\t\t\t\t\t\t\t\t\t\t\t\t\t<crux-phone-component cx-prop-value="{{row[field.api_name]}}" cx-prop-field="{{field}}" cx-prop-call-allowed="{{row.Data_Processing_Basis_Details.Contact_Through_Phone}}"></crux-phone-component>\t\t\t\t\t\t\t\t\t\t\t\t</template><template case="false"><template is="if" value="{{expHandlers(expHandlers(field.cxTypeMapping,\'==\',\'number\'),\'||\',expHandlers(field.cxTypeMapping,\'==\',\'picklist\'))}}"><template case="true">\t\t\t\t\t\t\t\t\t\t\t\t\t<crux-number-component cx-prop-value="{{row[field.api_name]}}" cx-prop-field="{{field}}"></crux-number-component>\t\t\t\t\t\t\t\t\t\t\t\t</template><template case="false">\t\t\t\t\t\t\t\t\t\t\t\t\t<template is="component" component-name="crux-{{field.cxTypeMapping}}-component" cx-prop-value="{{row[field.api_name]}}"></template>\t\t\t\t\t\t\t\t\t\t\t\t</template></template></template></template></template><template case="false">\t\t\t\t\t\t\t\t\t\t\t\t<crux-text-component cx-prop-value="{{row[field.api_name]}}"></crux-text-component>\t\t\t\t\t\t\t\t\t\t\t</template></template>\t\t\t\t\t\t\t\t\t</lyte-td>\t\t\t\t\t\t\t\t</template></template>\t\t\t\t\t\t\t</template>\t\t\t\t\t\t</lyte-tr>\t\t\t\t\t</template>\t\t\t\t\t\t\t\t\t</lyte-tbody>\t\t\t\t</template></template>\t\t\t</lyte-table-structure>\t\t</template>\t</lyte-table>\t<template is="if" value="{{expHandlers(cxPropContent.length,\'!\')}}"><template case="true">\t\t<div style="text-align : center; color : #787878; padding-bottom: 30px!important; padding-top: 30px !important;">{{cxPropNoRecordsMessage}}</div>\t</template></template></template>',_dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'height : '","cxPropHeight"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"attr",position:[1,1,1,1]},{type:"for",position:[1,1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"field.style"}}},{type:"attr",position:[1,1]},{type:"insertYield",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:[{type:"helper",value:{name:"cruxContains",args:["cxPropSelectedRows","row.id","cxPropSelectedRows.length"]}},"cxPropSelectedRowStyle"]}}}},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",dynamicValue:"field.style"}}},{type:"attr",position:[1,1]},{type:"insertYield",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"component",position:[1],dynamicNodes:[]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}],_observedAttributes:["cxPropHeader","cxPropContent","cxPropYieldForPrefix","cxPropPrefixArray","cxPropYieldForSuffix","cxPropSuffixArray","cxPropLabelSelector","cxPropHeaderRowId","cxPropTableId","cxPropFixedColumnCount","cxPropSortColumns","cxPropSortedColumn","cxPropSortedOrder","cxPropBodyId","cxPropNoRecordsMessage","cxPropColumnCellClass","cxPropSelectedRows","cxPropSelectedRowStyle","cxPropFieldTypeMapping","cxPropFieldIdVsRouteMapping","cxPropFieldTypeMappingSelector","header","cxPropHeight"],data:function(){return{cxPropHeader:Lyte.attr("array"),cxPropContent:Lyte.attr("array",{default:[]}),cxPropYieldForPrefix:Lyte.attr("boolean",{default:!1}),cxPropPrefixArray:Lyte.attr("array",{default:[1]}),cxPropYieldForSuffix:Lyte.attr("boolean",{default:!1}),cxPropSuffixArray:Lyte.attr("array",{default:[]}),cxPropLabelSelector:Lyte.attr("string",{default:"label"}),cxPropHeaderRowId:Lyte.attr("string"),cxPropTableId:Lyte.attr("string"),cxPropFixedColumnCount:Lyte.attr("number",{default:0}),cxPropSortColumns:Lyte.attr("boolean"),cxPropSortedColumn:Lyte.attr("string"),cxPropSortedOrder:Lyte.attr("string"),cxPropBodyId:Lyte.attr("string"),cxPropNoRecordsMessage:Lyte.attr("string",{default:_cruxUtils.getI18n("crm.no.data.found")}),cxPropColumnCellClass:Lyte.attr("string"),cxPropSelectedRows:Lyte.attr("array",{default:[]}),cxPropSelectedRowStyle:Lyte.attr("string"),cxPropFieldTypeMapping:Lyte.attr("object",{default:{}}),cxPropFieldIdVsRouteMapping:Lyte.attr("object"),cxPropFieldTypeMappingSelector:Lyte.attr("string",{default:"type"}),header:Lyte.attr("array"),cxPropHeight:Lyte.attr("string")}},actions:{sort:function(t){1==this.getData("cxPropSortColumns")&&this.throwEvent("on-sort",t)},onRowClick:function(t){this.$node._actions["on-body-row-click"]&&this.throwEvent("on-body-row-click",t)},onMouseOver:function(t){this.$node._actions["on-mouse-over"]&&this.throwEvent("on-mouse-over",t)},onMouseOut:function(t){this.$node._actions["on-mouse-out"]&&this.throwEvent("on-mouse-out",t)},scroll:function(){this.$node._actions["on-scroll"]&&this.throwEvent("on-scroll",event)}},didConnect:function(){this.getMethods("onConnectSetHeight")&&(this.setData("cxPropHeight",this.executeMethod("onConnectSetHeight")),$L("#"+this.getData("cxPropTableId")).scroll())},observeFields:function(){for(var t=this.getData("cxPropHeader").slice(0),e=this.getData("cxPropFieldTypeMapping"),o=this.getData("cxPropFieldTypeMappingSelector"),i=0;i<t.length;i++)t[i].cxTypeMapping=e[t[i][o]];if(1==this.getData("cxPropYieldForPrefix")||1==this.getData("cxPropYieldForSuffix"))for(var a=1,p=document.querySelector("template[yield-name='header-prefix-"+a+"']"),r=document.querySelector("template[yield-name='header-suffix-"+a+"']"),l=0,n=1;p||r;)p&&(t.splice(l,0,{yield:!0,fixed:p.getAttribute("cx-prop-fixed"),width:p.getAttribute("cx-prop-width"),yieldName:"prefix-"+(l+1),style:p.getAttribute("cx-prop-style")}),l++),r&&(t.push({yield:!0,fixed:r.getAttribute("cx-prop-fixed"),width:r.getAttribute("cx-prop-width"),yieldName:"suffix-"+n,style:r.getAttribute("cx-prop-style")}),n++),a++,p=document.querySelector("template[yield-name='header-prefix-"+a+"']"),r=document.querySelector("template[yield-name='header-suffix-"+a+"']");this.setData("header",t)}.observes("cxPropHeader").on("init")});