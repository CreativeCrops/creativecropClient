function ReplaceWith(e){var t=this.parentNode,r=arguments.length,o=+(t&&"object"==typeof e);if(t){for(;r-- >o;)t&&"object"!=typeof arguments[r]&&(arguments[r]=document.createTextNode(arguments[r])),t||!arguments[r].parentNode?t.insertBefore(this.previousSibling,arguments[r]):arguments[r].parentNode.removeChild(arguments[r]);o&&t.replaceChild(this,e)}}[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("after")||Object.defineProperty(e,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var r=e instanceof Node;t.appendChild(r?e:document.createTextNode(String(e)))}),this.parentNode.insertBefore(t,this.nextSibling)}})}),Element.prototype.replaceWith||(Element.prototype.replaceWith=ReplaceWith),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=ReplaceWith),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=ReplaceWith),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Lyte={version:"2.0.0",$:{},registeredMixins:{},Mixin:{},debug:!1,performance:!1,toBeRegistered:[]};var consoleTime=[];Lyte.$.assetsDiv=document.createElement("div"),Lyte.$.assetsDiv.setAttribute("id","lyteAssetsDiv"),document.head.appendChild(Lyte.$.assetsDiv),Lyte.registerErrorCodes=function(e){Object.assign(Lyte.errorCodes,e)},Lyte.getErrorMessage=function(e){var t=Array.from(arguments).slice(1);return Lyte.errorCodes[e]?Lyte.errorCodes[e].replace(/{(\d+)}/g,function(e,r){return t[r]}):e},Lyte.error=function(){var e=arguments[0].stack||Error(Lyte.getErrorMessage.apply(Lyte,arguments));Lyte.onerror&&Lyte.onerror.call(this,e),Lyte.triggerEvent("error",e),console.error.call(console,e)},Lyte.warn=function(){var e=arguments[0].stack||Error(Lyte.getErrorMessage.apply(Lyte,arguments));console.warn.call(console,e)},Lyte.Mixin.register=function(e,t){Lyte.registeredMixins[e]=t},Lyte.Mixin.exists=function(e){return!!Lyte.registeredMixins[e]||(Lyte.error("Mixin used before being registered."),!1)},Lyte.log=function(e,t){Lyte.debug&&console.log((t?"%c":"")+e,"color:"+t)},Lyte.time=function(e){var t;Lyte.performance&&(-1!=(t=consoleTime.indexOf(e))?(consoleTime.splice(t,1),console.timeEnd(e)):(consoleTime.push(e),console.time(e)))},Lyte.isRecord=function(e){return!!(e&&e.$&&e.$.hasOwnProperty("isModified"))},Lyte.isComponent=function(e){return!!(e&&e.$node&&e.__data)};var reqFiles={};function domContentLoaded1(){var e=Lyte.toBeRegistered;if(e.length){for(var t=0;t<e.length;t++)customElements.define(e[t].name,e[t].def);Lyte.toBeRegistered=[]}}Lyte.injectResources=function(e,t,r){var o=[],n=[];return t=t||function(){},r=r||function(){},new Promise(function(r){!function e(r,i){if(r){Array.isArray(r)||(r=[r]),r.length||i();var a=-r.length;r.forEach(function(r){"string"==typeof r?function(e,r,i){reqFiles[e]?reqFiles[e].push(i):(reqFiles[e]=[i],r&&"error"!=r.event.type?(-1!=Lyte.removeFromCache.arr.indexOf(e)&&Lyte.removeFromCache.arr.splice(Lyte.removeFromCache.arr.indexOf(e),1),c.call(r.tag,r.event,!0),i()):function(e,t){var r,i=e.split("."),a=i[i.length-1];if(r=document.createElement({js:"script",css:"link"}[a]),1==i.length)return void Lyte.error("Type of file is not specified in injectResources.");"css"==a?(r.setAttribute("href",e),r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet")):r.setAttribute("src",e);r.onerror=r.onload=function(e){"error"==e.type?n.push(e):o.push(e),t&&t.call(this,e)},document.getElementById("lyteAssetsDiv").appendChild(r)}(e,function(r){reqFiles[e].forEach(function(e){e()}),c.call(this,r),t.call(this,r)}))}(r,Lyte.injectResources.availableTags[r],function(){s()}):Array.isArray(r)?new Promise(function(t){e(r,t)}).then(function(){s()}):new Promise(function(t){e(r.parent,t)}).then(function(){new Promise(function(t){e(r.child,t)}).then(function(){s()})})})}else i();function s(){0==++a&&i()}function c(e,t){var r=this.getAttribute("src")||this.getAttribute("href");delete reqFiles[r],t||(Lyte.injectResources.availableTags[r]&&Lyte.injectResources.availableTags[r].tag.remove(),this.onerror=this.onload=void 0,Lyte.injectResources.availableTags[r]={tag:this,event:{type:e.type}})}}(e,r)}).then(function(){r(o,n)})},Lyte.injectResources.availableTags=[],Lyte.removeFromCache=function(e){Lyte.removeFromCache.assign(e),Lyte.removeFromCache.arr.length&&(Lyte.removeFromCache.arr.forEach(function(e){Lyte.injectResources.availableTags[e]&&(Lyte.injectResources.availableTags[e].tag.remove(),delete Lyte.injectResources.availableTags[e])}),Lyte.removeFromCache.arr=[])},Lyte.removeFromCache.arr=[],Lyte.removeFromCache.assign=function(e){e="*"==e?Object.keys(Lyte.injectResources.availableTags):Array.isArray(e)?e:[e],Lyte.removeFromCache.arr=Lyte.removeFromCache.arr.concat(e)},Lyte.checkProperty=function(e,t,r,o,n,i){switch(e){case"type":if(Lyte.Transform.hasOwnProperty(o)){if(Array.isArray(t)){if("array"!=Lyte.Transform[o].extends)return{code:"ERR03",message:Lyte.errorCodes.ERR03,expected:o}}else if(Lyte.Transform[o].extends!=(void 0===t?"undefined":_typeof(t)))return{code:"ERR03",message:Lyte.errorCodes.ERR03,expected:o}}else if(void 0!==t)if(Array.isArray(t)){if("array"!=o)return{code:"ERR03",message:Lyte.errorCodes.ERR03,expected:o}}else if(o!=(void 0===t?"undefined":_typeof(t)))return{code:"ERR03",message:Lyte.errorCodes.ERR03,expected:o};break;case"mandatory":if(void 0==t||null==t||""==t)return{code:"ERR02",message:Lyte.errorCodes.ERR02};break;case"maximum":if("number"==typeof t&&t>o)return{code:"ERR04",message:Lyte.errorCodes.ERR04,expected:o};break;case"minimum":if("number"==typeof t&&t<o)return{code:"ERR05",message:Lyte.errorCodes.ERR05,expected:o};break;case"maxLength":case"maxItems":if(t&&t.length>o)return{code:"ERR06",message:Lyte.errorCodes.ERR06,expected:o};break;case"minLength":case"minItems":if(t&&t.length<o)return{code:"ERR07",message:Lyte.errorCodes.ERR07,expected:o};break;case"pattern":if(t&&"string"==typeof t&&!new RegExp(o).test(t))return{code:"ERR08",message:Lyte.errorCodes.ERR08,expected:o};break;case"uniqueItems":if(Array.isArray(t)&&o)for(var a=[],s=0;s<t.length;s++){var c=t[s];if(-1!=a.indexOf(c))return{code:"ERR09",message:Lyte.errorCodes.ERR09};a.push(c)}break;case"constant":if(Array.isArray(t)){if(!(l=t.length==o.length&&t.every(function(e,t){return e===o[t]})))return{code:"ERR10",message:Lyte.errorCodes.ERR10,expected:o}}else if("object"==(void 0===t?"undefined":_typeof(t))){if(!(l=store.adapter.$.compareObjects(t,o)))return{code:"ERR10",message:Lyte.errorCodes.ERR10,expected:o}}else if(t&&t!=o)return{code:"ERR10",message:Lyte.errorCodes.ERR10,expected:o};break;case"items":if(Array.isArray(t))for(s=0;s<t.length;s++)for(var e in o){if(1!=(l=Lyte.checkProperty(e,t[s],s,o[e])))return l}break;case"properties":if("object"==(void 0===t?"undefined":_typeof(t))&&!Array.isArray(t))for(var r in t)for(var e in o){if(1!=(l=Lyte.checkProperty(e,t[r],r,o[e])))return l}break;case"validation":var l;if(1!=(l=Lyte.customValidator[o].apply(n,[r,t])))return l}return!0},Lyte.types=["string","object","number","boolean","array"],Lyte.attr=function(e,t){var r={};if(r.type=e,void 0==t&&(t={}),-1==this.types.indexOf(e)&&!Lyte.Transform.hasOwnProperty(e))throw new Error("Not a valid field type - "+e);return Object.assign(r,t),r},Lyte.defineRelation=function(e,t,r){var o={type:"relation",relType:t,relatedTo:e};return r&&(o.opts=r),o},Lyte.belongsTo=function(e,t){return this.defineRelation(e,"belongsTo",t)},Lyte.hasMany=function(e,t){return this.defineRelation(e,"hasMany",t)},Lyte.Transform={},Lyte.customValidator={},Lyte.registerDataType=function(e,t){if(this.Transform.hasOwnProperty(e))throw new Error("Custom Field Type - "+e+" -  already exists.");if(void 0==t.extends||-1==Lyte.types.indexOf(t.extends))throw new Error("Not a valid field type - "+t.extends);this.Transform[e]=t},Lyte.registerValidator=function(e,t){if(this.customValidator.hasOwnProperty(e))throw new Error("Custom Validator with name - "+e+" - already exists");this.customValidator[e]=t},Lyte.patterns={email:/^([A-Za-z0-9._%\-'+/]+@[A-Za-z0-9.-]+\.[a-zA-Z]{2,22})$/,url:/(^(ht|f)tp(s?):\/\/[0-9a-zA-Z][-.\w]*(:[0-9])*(\/?)([a-zA-Z0-9\-.?,:'/\\+=&amp;%$#_[\]@!()*;~]*)?$)/,ampm:/^(AM|PM|am|pm)$/,hour:/^(0?[0-9]|1[0-9]|2[0-4])$/,minute:/^(0?[0-9]|[1-5][0-9]|60)$/,boolean:/^(true|false|TRUE|FALSE)$/,alphaNumeric:/([a-zA-Z0-9])+/,alphabetsOnly:/([a-zA-Z])+/,numeric:/([0-9])+/,phoneNo:/^[0-9a-zA-Z+.()\-;\s]+$/},Lyte.validate=function(e,t,r,o){var n=o.__data[t],i=!1,a=n?n.type:void 0;for(var s in n)if(!0!==(i=Lyte.checkProperty(s,r,t,n[s],e,a)))return i;return!1},Lyte.registerPattern=function(e,t){this.patterns[e]=t},Lyte.errorCodes={ERR01:"Primary key cannot be modified",ERR02:"Mandatory field cannot be empty",ERR03:"Type of value does not match the specified data type",ERR04:"Value is greater than the maximum value allowed",ERR05:"Value is less than the minimum value allowed",ERR06:"Length of string/array is greater than the maximum limit allowed",ERR07:"Length of string/array is less than the minimum limit allowed",ERR08:"String does not match the specified pattern",ERR09:"Values in array are not unique",ERR10:"Value is not equal to the specified constant",ERR11:"Model of related field is not defined",ERR12:"Model of backward relation is not defined",ERR13:"Record not found",ERR14:"Model does not match the related field model",ERR15:"Error in creating a record as a relation",ERR16:"Record with primary key already exists",ERR17:"Value cannot be changed because record has been deleted",ERR18:"Action not defined",ERR19:"Model not defined",ERR20:"Key not specified",ERR21:"'belongsTo' relationship expects a single object/id",ERR22:"Type not specified for polymorphic relation",ERR23:"Primary Key value not present",ERR24:"Error while relating record",ERR25:"Backward relation not present"},Lyte.registeredGlobalEvents={},Lyte.triggerEvent=function(){var e=Array.prototype.slice.call(arguments,1),t=arguments[0],r=!1,o=this.registeredGlobalEvents[t];if(o)for(var n=0;n<o.listeners.length;n++){var i=o.listeners[n];if(i)if(!1===i.apply(this,e)){r=!0;break}}else o=this.registeredGlobalEvents[t]={listeners:[]};var a=new CustomEvent(t,{detail:e});r||document.dispatchEvent(a)},Lyte.addEventListener=function(e,t){if("function"==typeof t){var r=this.registeredGlobalEvents[e];return r||(r=this.registeredGlobalEvents[e]={listeners:[]}),e+"-"+(r.listeners.push(t)-1)}Lyte.error("Second parameter to LyteComponent.addGlobalEventListener() must be a function")},Lyte.removeEventListener=function(e){if(e){var t=e.split("-"),r=this.registeredGlobalEvents[t[0]];r&&r.listeners[t[1]]?r.listeners[t[1]]=null:Lyte.error("No such listener registered")}else Lyte.error("listener unique id not specified")},Lyte.deepCopyObject=function(e){for(var t,r,o,n,i,a,s=[{source:e,target:Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e))}],c=[e],l=s[0].target,y=[l];t=s.shift();)for(r=Object.getOwnPropertyNames(t.source),o=0;o<r.length;o++)(n=Object.getOwnPropertyDescriptor(t.source,r[o])).value&&"object"==_typeof(n.value)?(i=n.value,n.value=Array.isArray(i)?[]:i instanceof Set?new Set:Object.create(Object.getPrototypeOf(i)),-1==(a=c.indexOf(i))?(c.push(i),y.push(n.value),Object.defineProperty(t.target,r[o],n),s.push({source:i,target:n.value})):(n.value=y[a],Object.defineProperty(t.target,r[o],n))):Object.defineProperty(t.target,r[o],n);return l},Lyte.resolvePromises=function(e){if("string"==typeof e)return e;if(Array.isArray(e))return function(e){var t=[],r=!1;if(e.every(function(e,t){return!(e instanceof Promise&&(r=!0,1))}),!r)return e;return new Promise(function(r,o){Promise.all(e).then(function(o){e.forEach(function(e,r){t[r]=o[r]}),r(t)},function(e){o(e),Lyte.error(e)})})}(e);if("object"==(void 0===e?"undefined":_typeof(e)))return function(e){var t=[],r=[],o=Object.keys(e);if(o.forEach(function(o){var n=e[o];n instanceof Promise&&(t.push(o),r.push(n))}),r.length){var n={},i=new Promise(function(i,a){Promise.all(r).then(function(r){o.forEach(function(o){-1!=t.indexOf(o)?n[o]=r[t.indexOf(o)]:n[o]=e[o]}),i(n)},function(e){a(e),Lyte.error(e)})});return i}return e}(e)},Lyte.createCustomElement=function(e,t){var r=t.constructor;delete t.constructor,this.defProperty=function(e,t,r){var o={};r.get&&(o.get=r.get),r.set&&(o.set=r.set),Object.defineProperty(e,t,o)};var o=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r&&r.apply(e,Array.from(arguments)),e}return _inherits(t,HTMLElement),t}(),n=t.static;if(n){for(var i in n)"object"===_typeof(n[i])?this.defProperty(o,i,n[i]):Object.defineProperty(o,i,{value:n[i]});delete t.static}for(var i in t)"object"===_typeof(t[i])?this.defProperty(o.prototype,i,t[i]):Object.defineProperty(o.prototype,i,{value:t[i]});t.static=n[i],t.constructor=r,"complete"===document.readyState||"interactive"===document.readyState?customElements.define(e,o):Lyte.toBeRegistered.push({name:e,def:o})},"complete"===document.readyState||"interactive"===document.readyState?domContentLoaded1():document.addEventListener("DOMContentLoaded",function(e){domContentLoaded1()},!0);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function noop(){}function onDomContentForLyte(){window.isIE11Lyte||(document.body.appendChild(LyteComponent.lyteComponentsDiv),LyteComponent.needDummyComponentsDiv?document.body.appendChild(LyteComponent.dummyLyteComponentsDiv):(LyteComponent.dummyLyteComponentsDiv.remove(),LyteComponent.dummyLyteComponentsDiv=void 0));for(var e=["focus","focusin","focusout","resize","scroll","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","change","select","submit","keydown","keypress","keyup","contextmenu"],t=0;t<e.length;t++){var n=e[t];document.body.addEventListener(n,globalEventHandler,!0)}var o=LyteComponent.toBeRegistered;if(o.length){for(var r=0;r<o.length;r++)customElements.define(o[r].name,o[r].def);LyteComponent.toBeRegistered=[]}}function getMustache(e){if(e=e&&"string"==typeof e?e.trim():e,/^{{(?=[\s]*[\w-_]+)/.test(e)){var t=e.match(/{{[a-zA-Z0-9_.[\]()]*(?![\\])}}/g);if(t&&t.length>1)return;if(!this.syntaxCheck(e)||!/{{[^}]*?(?:(?:('|")[^\1]*?\1)[^}]*?)*}}$/.test(e))return;var n=e.match(/[\w!@#$%^&*)(+=.,_-]+[\s]*[(]{0,1}(?:"([^"]|\\")*?"|'([^']|\\')*?'|[\w\s!@#$%^&*)([\]+=.,_-]*?)*?[)]{0,1}[\s]*(?=}})/g);if(n&&n.length>1)return;return n=n?n[0].trim():n}}function getHelper(e){var t=/\((?:[^)]*|(?:(?:"(?:[^"\\]|\\.)*?")|(?:'([^'\\]|\\.)*?')|[\w\s!@#$%^&*)([\]+=.,_-]*?)*?)\)$/.exec(e);if(t)return getHelperInfo(e,t)}function getHelperInfo(e,t){var n={};n.name=e.substr(0,t.index).replace(/\s/g,"");var o=getHelperArgs((t=t?t[0].trim():t).substr(1,t.length-2));return!1!==o&&(n.args=o,n)}function getHelperArgs(e){for(var t=[],n=[],o=0,r=void 0,i=0;i<e.length;i++)if(t.length||","!==e.charAt(i))"("===e.charAt(i)?"'"==r&&'"'==r||(t.push(e.charAt(i)),r=e.charAt(i)):")"===e.charAt(i)?"("===t[t.length-1]&&t.pop():"'"===e.charAt(i)&&"\\"!==e.charAt(i-1)?"'"===t[t.length-1]?t.pop():'"'!==t[t.length-1]&&(t.push(e.charAt(i)),r=e.charAt(i)):'"'===e.charAt(i)&&"\\"!==e.charAt(i-1)&&('"'===t[t.length-1]?t.pop():"'"!==t[t.length-1]&&(t.push(e.charAt(i)),r=e.charAt(i)));else{var a=e.substr(o,i-o);(a=a.trim())&&a.startsWith('"')&&a.endsWith('"')&&(a="'"+(a=a.slice(1,-1))+"'"),a=getHelperArgValue(a),n.push(a),o=i+1}var s=e.substr(o,e.length-o);return(s=s.trim())&&s.startsWith('"')&&s.endsWith('"')&&(s="'"+(s=s.slice(1,-1))+"'"),s=getHelperArgValue(s),n.push(s),n}function syntaxCheck(e){for(var t,n=[],o=0;o<e.length;o++)"'"===e[o]?"'"===t&&"\\"!==e[o-1]?(n.pop(),t=void 0):n.length||(t=e[o],n.push(t)):'"'===e[o]&&('"'===t&&"\\"!==e[o-1]?(n.pop(),t=void 0):n.length||(t=e[o],n.push(t)));return!n.length}function doCompile(e,t,n){for(var o=0;o<t.length;o++){var r=t[o],i=r.type,a=r.position,s=this.getDynamicNode(e,a);switch(i){case"text":var p=this.getMustache(s.nodeValue),l=void 0;p&&(l=this.getHelper(p));var d=this.getMustache(s.nodeValue);l?r.helperInfo=l:d&&(r.dynamicValue=d);break;case"attr":for(var c=[],m=[],u=s,f=r.attr=r.attr||{},h=0;h<u.attributes.length;h++)if(-1!==u.attributes[h].nodeValue.indexOf("{{")){var y=u.attributes[h].nodeValue,_=this.getMustache(y),v=void 0;if(_?v=this.getHelper(_):/{{.*}}/.test(y)&&!/\\{{.*}}/.test(y)&&(v=this.splitMixedText(y)),v&&("action"===v.name||"method"===v.name)&&/^(onfocus|onfocusin|onfocusout|onresize|onscroll|onclick|ondblclick|onmousedown|onmouseup|onmousemove|onmouseover|onmouseout|onchange|onselect|onsubmit|onkeydown|onkeypress|onkeyup|oncontextmenu)$/.test(u.attributes[h].name)){f[u.attributes[h].name.substr(2)]={name:u.attributes[h].name.substr(2),helperInfo:v,globalEvent:!0};var g=deepCopyObject(v.args),b=g.splice(0,1)[0];b=b.startsWith("'")?b.replace(/'/g,""):b;var C=this.getArgString(b,g);u.setAttribute(u.attributes[h].name.substr(2),n+" => "+C),c.push(u.attributes[h].name)}else if(v||_){var L={};u.attributes[h].name.startsWith("lbind:")?(c.push(u.attributes[h].name),m.push({name:u.attributes[h].name.substring(6),value:u.attributes[h].nodeValue}),L.isLbind=!0,L.name=u.attributes[h].name.substring(6)):L.name=u.attributes[h].name,v?"lbind"===v.name?(L.dynamicValue=v.args[0],L.isLbind=!0):L.helperInfo=v:L.dynamicValue=_,!0,f[L.name]=L}}if(c.length)for(var w=0;w<c.length;w++)u.removeAttribute(c[w]);if(m.length)for(var A=0;A<m.length;A++)u.setAttribute(m[A].name,m[A].value);break;case"for":case"forIn":case"component":case"registerYield":doCompile(window.isIE11Lyte?s:s.content,r.dynamicNodes,n),(window.isIE11Lyte||window.isEdgeLyte)&&(r.templateContent=s.outerHTML,s.innerHTML="");break;case"if":case"switch":var N="default";if(window.isIE11Lyte||window.isEdgeLyte){for(var x,E={},I=window.isEdgeLyte?s.content.childNodes:s.childNodes,S=0;S<I.length;S++)"TEMPLATE"===I[S].tagName&&(I[S].getAttribute("case")?E[I[S].getAttribute("case")]=I[S]:I[S].hasAttribute("default")&&(x=I[S]));for(var P in r.cases)doCompile(E[P],r.cases[P].dynamicNodes,n),E[P].remove(),r.cases[P].templateContent=E[P].outerHTML;r[N].dynamicNodes&&(doCompile(x,r[N].dynamicNodes,n),x.remove(),r[N].templateContent=x.outerHTML)}else{for(var k in r.cases)doCompile(s.content.querySelector("[case='"+LyteComponent.cssEscape(k)+"']").content,r.cases[k].dynamicNodes,n);r[N].dynamicNodes&&doCompile(s.content.querySelector("[default]").content,r[N].dynamicNodes,n)}}}}function getDynamicNode(e,t){for(var n=e,o=0;o<t.length;o++)n="TEMPLATE"!=n.tagName||window.isIE11Lyte?n.childNodes[t[o]]:n.content.childNodes[t[o]];return n}function splitMixedText(e){for(var t=[],n=0,o={name:"concat",args:[]},r=0;r<e.length;r++){var i=r;if("\\"!==e[r-1]&&"{"===e[r]&&"{"===e[++r])t.push("{{"),o.args.push("'"+e.substr(n,i-n)+"'"),n=r+1;else if("}"===e[r]&&"}"===e[++r]&&t.length){t.pop(n);var a=e.substr(n,i-n),s=this.getHelper(a);s?(a=s,o.args.push({type:"helper",value:a})):o.args.push(a),n=r+1}}return n<e.length&&o.args.push("'"+e.substr(n,e.length-n)+"'"),o}function getHelperArgValue(e){switch(e){case"undefined":return;case"true":return!0;case"false":return!1;case"null":return null;case"":return;default:return e&&e.startsWith("'")&&e.endsWith("'")?e:/\([\w\s,')(]*/.test(e)?{type:"helper",value:getHelper(e)}:isNaN(e)?e:parseInt(e)}}function deepCopyObject(e){for(var t,n,o,r,i,a,s=[{source:e,target:Object.create(Object.getPrototypeOf(e))}],p=[e],l=s[0].target,d=[l];t=s.shift();)for(n=Object.getOwnPropertyNames(t.source),o=0;o<n.length;o++)(r=Object.getOwnPropertyDescriptor(t.source,n[o])).value&&"object"==_typeof(r.value)?(i=r.value,r.value=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),-1==(a=p.indexOf(i))?(p.push(i),d.push(r.value),Object.defineProperty(t.target,n[o],r),s.push({source:i,target:r.value})):(r.value=d[a],Object.defineProperty(t.target,n[o],r))):Object.defineProperty(t.target,n[o],r);return l}function getArgString(e,t){for(var n=0;n<t.length;n++)"object"===_typeof(t[n])&&(t[n]=this.getArgString(t[n].value.name,t[n].value.args));return e?e+"("+t.toString()+")":t.toString()}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(Lyte.registerErrorCodes({LC001:"Error while parsing custom prop handler attribute {0}. Check if the value provided is a valid JSON",LC002:"{0} Component is not compiled. Please compile using Lyte CLI",LC003:"Helper named {0} is not defined",LC004:"Action named {0} doesn't exists",LC005:"Lyte.objectUtils doesn't support {0} function",LC006:"Lyte.arrayUtils doesn't support {0} function",LC007:"Component name not specified in Lyte.Component.render",LC008:"Specified outlet {0} doesn't exists - Lyte.Component.render",LC009:"Method named {0} doesn't exists"}),window.isIE11Lyte=!1,window.isEdgeLyte=!1,window.replaceWithNeeded=!1,navigator.userAgent.match(/rv:11/)&&(window.isIE11Lyte=!0,window.action=function(){}),navigator.userAgent.match("Edge")){var s=document.createElement("div");s.innerHTML="<template><div>c</div></template>",s.querySelector("template").childNodes.length?window.isIE11Lyte=!0:window.isEdgeLyte=!0,s.remove()}if(window.isIE11Lyte||window.isEdgeLyte){var doc=document.createDocumentFragment();doc.appendChild(document.createTextNode("  dummy ")),doc.childNodes[0].replaceWith(document.createTextNode("changed")),"changed"!==doc.childNodes[0].textContent&&(window.replaceWithNeeded=!0)}Lyte.Component={},Lyte.arrayUtils=function(){return LyteComponent.arrayFunctions.apply(LyteComponent,arguments)},Lyte.objectUtils=function(){return LyteComponent.objectFunctions.apply(LyteComponent,arguments)},Lyte.Component.register=function(){LyteComponent.registerComponent.apply(LyteComponent,arguments)},Lyte.Component.registerHelper=function(){LyteComponent.registerHelper.apply(LyteComponent,arguments)},Lyte.Component.set=function(){LyteComponent.set.apply(LyteComponent,arguments)},Lyte.Component.registeredHelpers={},Lyte.Component.registeredComponents={},Lyte.Component.registerCustomPropHandler=function(e){LyteComponent.String.dasherize(e);e=LyteComponent.String.toCamelCase(e),-1===LyteComponent.customPropHandlers.indexOf(e)&&(LyteComponent.customPropHandlers.push(e),customElementPrototype.prototype[e]=function(){var t=arguments.length,n=arguments[0];if(!n){var o={};for(var r in this.component.data)if(r.startsWith(e)){var i=r.substring(e.length);o[i=LyteComponent.String.lowerCaseFirstLetter(i)]=this.component.data[r]}return o}if("string"==typeof n){if(!(t>1)){var a=e+LyteComponent.String.upperCaseFirstLetter(n);return this.component.data[a]}this.set(e+LyteComponent.String.upperCaseFirstLetter(n),arguments[1])}else if("object"===(void 0===n?"undefined":_typeof(n)))for(var s in n){var p=e+LyteComponent.String.upperCaseFirstLetter(s);this.set(p,n[s])}},LyteComponent.customPropRegex=new RegExp("^("+LyteComponent.customPropHandlers.join("|")+")"))},Lyte.Component.unregisterComponent=function(e){if(Lyte.Component.registeredComponents[e]){var t=LyteComponent._registeredComponents[e];if(t.activeInstances>0)console.warn("There are active instances of the component "+e+" and hence cannot be unregistered");else{t._properties={},t.component=null,t._mixins=null,t._actions=null,t._template=null,t._dynamicNodes=null,t._callBacks={},t._observers=[],t._data=void 0,t._methods={},t.prototype.get=noop,t.prototype.set=noop,delete Lyte.Component.registeredComponents[e];var n=document.querySelector("template[tag-name="+e+"]");n&&n.remove()}}else console.warn("Component "+e+" not yet registered")};var elementPrototype="undefined"!=typeof HTMLElement?HTMLElement:Element;document.addEventListener("change",function(e){var t=e.target||e.srcElement;if(t._attributeDetails){var n="value";"checkbox"!==t.type&&"radio"!==t.type||(n="checked");var o=[],r=t._attributeDetails[n];if(r&&r.isLbind){var i=t;if(!t._callee){for(;i&&!LyteComponent.isCustomElement(i)&&"LYTE-YIELD"!==i.tagName;){if("BODY"===i.tagName){i=null;break}i=i.parentNode}i&&"LYTE-YIELD"===i.tagName?t._callee=i._registerYield._callee:t._callee=i}var a=t._callee;t&&LyteComponent.newAddContext(t,o);var s=LyteComponent.getNew(a.component.data,r.dynamicValue);LyteComponent.set(s.context,s.lastKey,t[n]),t&&LyteComponent.newRemoveContext(t,o)}}});var globalEventHandler=function(e){var t,n=e.type,o=e.target;window.event||(t=!0,window.event=e);for(var r=!1;o.getAttribute&&!o.getAttribute(n)&&"BODY"!=o.tagName&&(!LyteComponent.hasLyteEvents(o,n)||!(r=LyteComponent.handleLyteEvents(o,e)));)o=o.parentNode;if(!r){var i=o;if(!o._callee){for(;i&&!LyteComponent.isCustomElement(i)&&"LYTE-YIELD"!==i.tagName;){if("BODY"===i.tagName){i=null;break}i=i.parentNode}i&&"LYTE-YIELD"===i.tagName?o._callee=i._registerYield._callee:o._callee=i===o?void 0:i}if(o._evBoundEvents&&o._evBoundEvents[n]){o._callee?o._callee.constructor._actions:o.constructor._actions;var a=o._evBoundEvents[n],s=Lyte.deepCopyObject(a);s.args.shift(),LyteComponent.throwAction.call(o,o,n,s,void 0,void 0,o,e)}else if(o.getAttribute&&o.getAttribute(n)){o._callee.constructor._actions,o.getAttribute(n).split(" => ")[1];var p=o._boundEvents[n],l=Lyte.deepCopyObject(p);l.args.shift(),LyteComponent.throwAction.call(o._callee,o._callee,n,l,void 0,void 0,o,e)}if("LABEL"===o.tagName){var d=o.querySelector("input");if(d&&d.getAttribute(n)){o._callee.constructor._actions,d.getAttribute(n).split(" => ")[1];var c=o._boundEvents[n],m=Array.from(c.args),u=Object.assign({},c);m.shift(),u.args=m,LyteComponent.throwAction.call(o._callee,o._callee,n,u,void 0,void 0,d,e)}}t&&(window.event=void 0)}},LyteYield=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,HTMLElement),_createClass(t,[{key:"disconnectedCallback",value:function(){if(!LyteComponent.ignoreDisconnect){var e=[];LyteComponent.newAddContext(this,e),LyteComponent.removeSelectedBindingDeep(this._properties,this.component.data);var t=this._registerYield;if(t){var n=[];LyteComponent.newAddContext(t,n);for(var o in this._dynamicProperty)if(this._dynamicProperty[o].isActualNode)this._dynamicProperty[o].isActualNode._helperNodes.delete(this);else{var r=t._callee.getProperty(o)._helperNodes;r&&r.delete(this)}this._dynamicProperty={};for(var i=0;i<this._helpers.length;i++)t._callee.removeHelpers(this._helpers[i]);this._helpers=[],LyteComponent.newRemoveContext(t,n),LyteComponent.newRemoveContext(this,e)}}}},{key:"getProperty",value:function(e){var t=e.split("."),n=this;n._properties[t[0]]||(n._properties[t[0]]={}),n=n._properties[t[0]],Object.defineProperty(n,"_path",{enumerable:!1,value:t[0]});for(var o=1;o<t.length;o++)n[t[o]]||(n[t[o]]={},Object.defineProperty(n[t[o]],"_path",{enumerable:!1,value:n._path+"."+t[o]})),n=n[t[o]];return n}}]),t}();customElements.define("lyte-yield",LyteYield);var customElementPrototype=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!Lyte.Component.registeredComponents[e.localName])return _possibleConstructorReturn(e);e.constructor.activeInstances++,e.component=new e.constructor.component,e.data={},e._properties={},e.component.methods={},e.component.data={};var n=e.constructor._data?e.constructor._data():{};for(var o in n)e.component.data[o]=n[o].default;e.component.data.errors={},e.component.__data=n;for(var r in e.constructor._methods)e.component.methods[r]=e.constructor._methods[r];return Object.defineProperty(e.component.data,"__component__",{value:e,configurable:!0,writable:!0,enumerable:!1}),e.component.$node=e,e.callback("constructor"),e._actions=e._actions?e._actions:{},e._callee=e._callee||e.getCallee(e.parentNode),e}return _inherits(t,elementPrototype),_createClass(t,[{key:"getMethods",value:function(e){return this.component.getMethods(e)}},{key:"setMethods",value:function(e,t){return this.component.setMethods(e,t)}},{key:"getData",value:function(e){return this.component.getData(e)}},{key:"setData",value:function(e,t){return this.component.setData(e,t)}},{key:"getCallee",value:function(e){for(;e&&!LyteComponent.isCustomElement(e)&&"LYTE-YIELD"!==e.tagName;){if("BODY"===e.tagName){e=null;break}e=e.parentNode}return e&&"LYTE-YIELD"===e.tagName?e._registerYield._callee:this===e?void 0:e}},{key:"afterConnected",value:function(){for(var e=this.constructor._observedAttributes,t=0;t<e.length;t++){var n=e[t],o=this.getProperty(n);Object.defineProperty(o,"__fromComponent",{value:!0,enumerable:!1})}if(this.getProperty("errors"),this._initProperties){var r=this._initProperties;for(var i in r)!this.component.__data[i]||this.component.__data[i].type===LyteComponent.getDataType(r[i])||void 0===r[i]&&"boolean"!==this.component.__data[i].type?this.component.data[i]=r[i]:this.component.data[i]=LyteComponent.typeCast(r[i],this.component.__data[i].type);this._initProperties=void 0}if(this._initMethods){var a=this._initMethods;for(var s in a)this.component.methods[s]=a[s];this._initMethods=void 0}this.callback("init"),this.onCallBack("init"),this.registerYields(),this.component.data.lyteUnbound&&(LyteComponent.unbound=!0);return this.renderNodes(this.constructor._template.content,this.constructor._dynamicNodes,void 0,void 0,void 0,void 0,this.constructor._templateContent)}},{key:"getDynamicNode",value:function(e,t){for(var n=e,o=0;o<t.length;o++)n="TEMPLATE"!=n.tagName||window.isIE11Lyte?n.childNodes[t[o]]:n.content.childNodes[t[o]];return n}},{key:"renderNodes",value:function(e,t,n,o,r,i,a){o=o||{};var s=void 0;if(window.isIE11Lyte||window.isEdgeLyte){var p=document.createElement("div");p.innerHTML=a,s=p.childNodes[0],window.timer++,this.constructor.splitTextNodes(s)}else s=e.cloneNode(!0,"lyte");for(var l=[],d=[],c=void 0,m=0;m<t.length;m++){var u=t[m],f=u.type,h=u.position,y=s;if(y=this.getDynamicNode(y,h),"componentDynamic"===f)o.node?y._contextSwitchInfo=o:n&&(y._contextSwitchInfo=n._contextSwitchInfo);else if("text"===f)this.bindNode(y,void 0,n,o,t[m],d,r);else if("attr"===f){if(y._attributeDetails=u.attr,"LYTE-YIELD"===y.nodeName){y._callee=this,y.component={},y.component.data={},Object.defineProperty(y.component.data,"__component__",{value:y,configurable:!0,writable:!0,enumerable:!1}),y._properties={};for(var _=0;_<y.attributes.length;_++){var v=y.attributes[_];"is"!==v.nodeName&&"yield-name"!==v.nodeName&&(y._properties[LyteComponent.String.toCamelCase(v.nodeName)]={})}}var g=[];for(var b in u.attr){var C=u.attr[b],L=b;if(C&&(C.dynamicValue||C.helperInfo))if(o.node?y._contextSwitchInfo=o:n&&(y._contextSwitchInfo=n._contextSwitchInfo),C.globalEvent){y._boundEvents=y._boundEvents||{};var w=C.helperInfo.args[0],A=void 0;w.startsWith('"')||w.startsWith("'")?A=w.substring(1,w.length-1):(console.warn("Deprecation warning. Action name "+w+" must be in quotes"),A=w),y._boundEvents[L]={name:A,args:C.helperInfo.args}}else{y.hasAttribute(L)||y.setAttribute(L,"{{dummy}}");var N=this.bindNode(y.attributes.getNamedItem(L),g,n,o,C,void 0,r);N!==y.attributes.getNamedItem(L)&&(y._removedAttributes=y._removedAttributes||{},y._removedAttributes[L]=N)}}u.attr&&Object.keys(u.attr).length&&(y._callee=this);for(var x=0;x<g.length;x++)y.removeAttribute(g[x])}else if(/^(for|forIn|component)$/.test(f)){o.node?y._contextSwitchInfo=o:n&&(y._contextSwitchInfo=n._contextSwitchInfo),y._dynamicNodes=u.dynamicNodes,(window.isIE11Lyte||window.isEdgeLyte)&&(y._templateContent=u.templateContent);var E=void 0;switch(f){case"for":E=this.updateForHelper(y,{type:"default"},o.node?o:void 0,r);break;case"forIn":E=this.updateForInHelper(y,{type:"default"},o.node?o:void 0,r);break;case"component":E=this.updateDynamicComponent(y,!1,o.node?o:void 0,r)}E&&l.push(E)}else if(/^(if|switch)$/.test(f)){y._cases=u.cases,y._default=u.default,o.node?y._contextSwitchInfo=o:n&&(y._contextSwitchInfo=n._contextSwitchInfo);var I=this.updateSwitchHelper(f,y,o.node?o:void 0,void 0,r);if(I){l.push(I);if(I.toAppendMain.querySelector("template[is=break]")){y._isStopped="break",s=this.constructor.getTrimmedContent(s,u.position,void 0),c=u.position;break}if(I.toAppendMain.querySelector("template[is=continue]")){y._isStopped="continue",s=this.constructor.getTrimmedContent(s,u.position,void 0);break}}}else"registerYield"===f?(y._dynamicNodes=u.dynamicNodes,(window.isIE11Lyte||window.isEdgeLyte)&&(y._templateContent=u.templateContent),o.node?y._contextSwitchInfo=o:n&&(y._contextSwitchInfo=n._contextSwitchInfo),y._callee=this):"insertYield"===f&&(o.node?y._contextSwitchInfo=o:n&&(y._contextSwitchInfo=n._contextSwitchInfo),y.component=y.component||{data:{}},y._properties=y._properties||{},this.updateYield(y,!1,o.node?o:void 0))}for(var S=0;S<d.length;S++){var P=d[S].dynamicPositions,k=P.initialNode,O=P.dynamicNodeValue,j=O.childNodes.length;j||(O.appendChild(document.createTextNode("")),j=1);var B=O.childNodes[0];if(window.replaceWithNeeded&&"#document-fragment"===k.parentNode.nodeName){for(;O.childNodes.length;)k.parentNode.insertBefore(O.childNodes[0],k);k.remove()}else k.replaceWith.apply(k,O.childNodes);d[S].dynamicPositions={startingNode:B,length:j}}return c&&((i=i||{}).stop=!0),n?o.type?(n._helpers[o.itemIndex]=l,(window.isIE11Lyte||window.isEdgeLyte)&&(s=this.constructor.createDocFragment1(s)),s):(n._helpers=l,(window.isIE11Lyte||window.isEdgeLyte)&&(s=this.constructor.createDocFragment1(s)),s):(this.executeBlockHelpers(l),(window.isIE11Lyte||window.isEdgeLyte)&&(s=this.constructor.createDocFragment1(s)),s)}},{key:"executeBlockHelpers",value:function(e,t){for(var n=0;n<e.length;n++)e[n].lastNode.parentNode.insertBefore(e[n].toAppendMain,e[n].lastNode),e[n]=e[n].lastNode}},{key:"updateBlockHelpers",value:function(e,t){for(var n=0;n<e.length;n++)switch(e[n].getAttribute("is")){case"for":this.updateForHelper(e[n],{type:"default"},t);break;case"if":this.updateSwitchHelper("if",e[n],t);break;case"forIn":this.updateForInHelper(e[n],{type:"default"},t);break;case"switch":this.updateSwitchHelper("switch",e[n],t);break;case"component":this.updateDynamicComponent(e[n],!1,t);break;case"insertYield":break;case"yield":case"registerYield":t&&(e[n]._contextSwitchInfo=t);break;default:"LYTE-YIELD"===e[n].tagName&&this.updateYield(e[n],!1,t)}}},{key:"attributeChangedCallback",value:function(e,t,n){if(!this.constructor._observedMethodAttributes||!this.constructor._observedMethodAttributes[e]){var o=LyteComponent.String.toCamelCase(e),r=LyteComponent.customPropHandlers.indexOf(o);if(-1===r){if(t!==n){var i=this.attributes.getNamedItem(e);if(i&&i.__lyteIgnore)this.attributes.getNamedItem(e).__lyteIgnore=!1;else{var a=this.component.__data[o].type;if("string"!==a){var s={attr:e,tagName:this.tagName};if(n=LyteComponent.typeCast(n,a,s),s.isError)return void console.warn("data type of the value provided for attribute "+e+" of "+this.tagName+" is not valid")}this.component.data[o]!==n&&this.set(o,n)}}}else{var p=LyteComponent.customPropHandlers[r],l=n;if(l)try{l=JSON.parse(l);for(var d in l){var c=p+LyteComponent.String.upperCaseFirstLetter(d);this.set(c,l[d])}}catch(t){Lyte.error("LC001",e)}}}}},{key:"removeHelpersSpecificIndex",value:function(e,t){if(e._helpers[t])for(var n=0;n<e._helpers[t].length;n++)this.removeHelpers(e._helpers[t][n]);if(e._forContent[t]){for(var o=0;o<e._forContent[t].length;o++)e._forContent[t][o].remove();e._items[t]={_dynamicProperty:{},itemProperty:{},indexProperty:{}}}}},{key:"removeHelpers",value:function(e,t){var n="delete",o=[];if(LyteComponent.newAddContext(e,o),e._forContent)if("for"===e.getAttribute("is")){if(e._helpers)for(var r=0;r<e._helpers.length;r++){for(var i=0;i<e._helpers[r].length;i++)this.removeHelpers(e._helpers[r][i]);e._helpers[r]=[]}for(var a=0;a<e._forContent.length;a++)for(var s=0;s<e._forContent[a].length;s++)e._forContent[a][s].remove();var p=e.getAttribute("item");if(e._items.length){for(var l=e._items[0].itemProperty,d=0;d<e._items.length;d++){var c=e._items[d]._dynamicProperty;for(var m in c){var u=this.getProperty(m);u._helperNodes&&u._helperNodes[n](e)}}if(l)for(var f=0;f<e._items.length;f++)this.removeBindings(_defineProperty({},p,e._items[f].itemProperty),_defineProperty({},p,e._attributes.items[f]))}t||e._actualBinding&&(e._attributes.items&&e._attributes.items._bindings&&e._actualBinding._createdBinding&&e._attributes.items._bindings[n](e._actualBinding),e._actualBinding._forHelpers&&e._actualBinding._forHelpers[n](e),e._removedAttributes&&e._removedAttributes.items&&!e._removedAttributes.items.helperValue&&e._removedAttributes.items._multipleProperty&&e._removedAttributes.items._multipleProperty[0].actProp._forHelpers[n](e)),e._items=[]}else{if(e._helpers)for(var h=Object.keys(e._helpers),y=0;y<h.length;y++){for(var _=0;_<e._helpers[h[y]].length;_++)this.removeHelpers(e._helpers[h[y]][_]);e._helpers[h[y]]=[]}for(var v in e._forContent)for(var g=0;g<e._forContent[v].length;g++)e._forContent[v][g].remove();var b=e._items,C=e.getAttribute("key");for(var L in b){var w=b[L],A=w.itemProperty,N=w._dynamicProperty;for(var x in N){var E=this.getProperty(x);E._helperNodes&&E._helperNodes[n](e)}A&&this.removeBindings(_defineProperty({},C,e._items[L].itemProperty),_defineProperty({},C,e._attributes.object[L]))}t||(e._actualBinding&&(e._attributes.object&&e._attributes.object._bindings&&e._actualBinding._createdBinding&&e._attributes.object._bindings[n](e._actualBinding),e._actualBinding._forHelpers&&e._actualBinding._forHelpers[n](e)),e._removedAttributes.items&&!e._removedAttributes.items.helperValue&&e._removedAttributes.items._multipleProperty&&e._removedAttributes.items._multipleProperty[0].actProp._forHelpers[n](e),e._propBindingObject&&e._attributes.object&&e._attributes.object._bindings&&e._attributes.object._bindings[n](e._propBindingObject)),e._items={}}else if(e._caseContent||e._yieldContent){if(e._helpers){for(var I=0;I<e._helpers.length;I++)this.removeHelpers(e._helpers[I]);e._helpers=[]}if(e._caseContent){for(var S=0;S<e._caseContent.length;S++)e._caseContent[S].remove();for(var P in e._dynamicProperty)if(e._dynamicProperty[P].isActualNode)e._dynamicProperty[P].isActualNode._helperNodes[n](e);else{var k=this.getProperty(P)._helperNodes;k&&k[n](e)}e._dynamicProperty={}}else{for(var O=0;O<e._yieldContent.length;O++)e._yieldContent[O].remove();e._dynamicProperty={}}}else if(e._renderedComponent){e._renderedComponent[e._currentComponent]&&e._renderedComponent[e._currentComponent].remove();for(var j in e._renderedComponent)e._renderedComponent[j]=null}LyteComponent.newRemoveContext(e,o)}},{key:"updateYield",value:function(e,t,n){e._callee||(e._callee=this);var o=e._callee._yields[e.getAttribute("yield-name")];if(o){e._registerYield=o;var r=o._callee||e._callee._callee;if(!r)return e.appendChild(o.content.cloneNode(!0,"lyte")),void(e._helpers=[]);o._callee||(o._callee=r),e._dynamicProperty=e._dynamicProperty||{};var i={},a=[];LyteComponent.newAddContext(o,a),Object.keys(e._properties).forEach(function(t){i[t]={},i[t].value=r.component.data[t],i[t].property=r._properties[t],r._properties[t]=e._properties[t],r.component.data[t]=e.component.data[t]});var s=r.renderNodes(o.content,o._dynamicNodes,e,{node:e},!0,void 0,o._templateContent);e.component.data.lyteUnbound||LyteComponent.establishBindings(e._properties,e.component.data),r.executeBlockHelpers(e._helpers),Object.keys(e._properties).forEach(function(e){r.component.data[e]=i[e].value,r._properties[e]=i[e].property}),LyteComponent.newRemoveContext(o,a),e.appendChild(s)}}},{key:"updateDynamicComponent",value:function(e,t,n,o){var r=void 0;e._callee=this;var i=e.hasAttribute("lyte-keep-alive");e._renderedComponent=e._renderedComponent||{},e._contextSwitchInfo=n||e._contextSwitchInfo,e._dynamicProperty=e._dynamicProperty||{};var a=e.getAttribute("component-name")||(e._attributes?e._attributes["component-name"]:void 0);if(a){var s=void 0,p=!1;if(t?(i&&(LyteComponent.ignoreDisconnect=!0),e._renderedComponent[e._currentComponent]&&e._renderedComponent[e._currentComponent].remove(),LyteComponent.ignoreDisconnect=!1,i||(e._dynamicProperty={}),e._renderedComponent[a]&&i?s=e._renderedComponent[a]:(s=document.createElement(a),p=!0)):(s=document.createElement(a),p=!0),!i&&e._currentComponent&&(e._renderedComponent[e._currentComponent]=null),p){for(var l=0;l<e.attributes.length;l++)"is"!==e.attributes[l].name&&"component-name"!==e.attributes[l].name&&"lyte-keep-alive"!==e.attributes[l].name&&s.setAttribute(e.attributes[l].name,e.attributes[l].value);if(e._attributes)for(var d in e._attributes)"component-name"!==d&&s.setData(LyteComponent.String.toCamelCase(d),e._attributes[d]);var c=this.renderNodes(e.content,e._dynamicNodes,e,void 0,o,void 0,e._templateContent);s.appendChild(c)}return p&&(s._toRegEvnts=e._toRegEvnts),t?e.parentNode.insertBefore(s,e):r={toAppendMain:s,lastNode:e},e._renderedComponent[a]=s,e._currentComponent=a,s._callee=this,s._actions=e._actions,s.setMethods(e._initMethods),s._attributeDetails=e._attributeDetails,s._boundEvents=e._boundEvents,r}}},{key:"updateForHelper",value:function(e,t,n,o){if(e._callee=this,e._attributes=e._attributes||{},"update"===t.type&&e._currentItems===e._attributes.items)return{};e._contextSwitchInfo=n||e._contextSwitchInfo;var r=e.getAttribute("index");r||(e.setAttribute("index","index"),r="index");var i=e.getAttribute("item");i||(e.setAttribute("item","item"),i="item");var a=this.component.data[i],s=this.component.data[r],p=this._properties[i],l=this._properties[r];this._properties[i]=this._properties[r]={};var d=e._attributes.items,c=e.content,m=e._dynamicNodes,u=e;e._items||(e._items=[]);var f=void 0,h=void 0,y=t.firstIndex,_=t.secondIndex,v=t.thirdIndex,g=!1,b=LyteComponent.unbound;if(e.hasAttribute("unbound")&&(g=!0,LyteComponent.unbound=!0),t)switch(t.type){case"remove":f=y;for(var C=y,L=_;L>0;L--,C++)this.removeHelpersSpecificIndex(e,C);for(var w=y+_;w<e._items.length;w++)e._items[w]._contextSwitchInfo.itemIndex=e._items[w]._contextSwitchInfo.itemIndex-_;e._items.splice(y,_),e._helpers.splice(y,_),e._forContent.splice(y,_);break;case"insert":h=y,f=_,e._forContent[y]&&(u=e._forContent[y][0]);for(var A=[],N=[],x=[],E=_,I=y;E>0;E--,I++)A.push([]),N.push({}),x.push([]);e._helpers.splice.apply(e._helpers,[y,0].concat(A)),e._items.splice.apply(e._items,[y,0].concat(N));for(var S=y+_;S<e._items.length;S++)e._items[S]._contextSwitchInfo.itemIndex=e._items[S]._contextSwitchInfo.itemIndex+_;e._forContent.splice.apply(e._forContent,[y,0].concat(x));break;case"replace":h=y,f=_,this.removeHelpersSpecificIndex(e,y);document.createDocumentFragment();e._forContent[y+1]&&(u=e._forContent[y+1][0]);for(var P=[],k=[],O=[],j=_,B=y;j>0;j--,B++)P.push([]),O.push([]),k.push({});e._helpers.splice.apply(e._helpers,[y,1].concat(P)),e._items.splice.apply(e._items,[y,1].concat(k));for(var D=y+_;D<e._items.length;D++)e._items[D]._contextSwitchInfo.itemIndex=e._items[D]._contextSwitchInfo.itemIndex+_-1;e._forContent.splice.apply(e._forContent,[y,1].concat(O));break;case"splice":h=y,f=_;for(var H=v,T=0;H>0;H--,T++)this.removeHelpersSpecificIndex(e,y+T);document.createDocumentFragment();e._forContent[y+v]&&(u=e._forContent[y+v][0]);for(var M=[],Y=[],V=[],F=_,R=y;F>0;F--,R++)M.push([]),V.push([]),Y.push({});e._helpers.splice.apply(e._helpers,[y,v].concat(M)),e._items.splice.apply(e._items,[y,v].concat(Y));for(var W=y+_;W<e._items.length;W++)e._items[W]._contextSwitchInfo.itemIndex=e._items[W]._contextSwitchInfo.itemIndex+_-v;e._forContent.splice.apply(e._forContent,[y,v].concat(V));break;case"update":e.getAttribute("item");for(var $=0;$<e._items.length;$++)this.removeHelpersSpecificIndex(e,$);e._items=[];case"default":e._forContent=[],e._helpers=[],h=0,f=d?d.length:0;break;default:Lyte.error("Error in updateForHelper")}for(u||(u=e);u!==e&&"TEMPLATE"===u.tagName;){switch(u.getAttribute("is")){case"for":case"forIn":u=u._forContent[0][0]||u;break;case"if":case"switch":u=u._caseContent[0]||u;break;case"component":u=u._renderedComponent[u._currentComponent]||u}}var q=void 0;if("remove"!==t.type){for(var z=document.createDocumentFragment(),J=h,U=f;U>0;J++,U--){e._helpers[J]=[],e._items[J]={_dynamicProperty:{},itemProperty:{},indexProperty:{}},this.component.data[i]=d[J],this.component.data[r]=J,this._properties[i]={},this._properties[r]={};var G={itemValue:i,itemIndex:J,type:"for",node:e,indexValue:r};e._items[J]._contextSwitchInfo=G;var K={},X=this.renderNodes(c,m,e,G,o,K,e._templateContent);if(e._items[J].itemProperty=this.getProperty(i),e._items[J].indexProperty=this.getProperty(r),LyteComponent.unbound||LyteComponent.establishBindings(_defineProperty({},i,e._items[J].itemProperty),_defineProperty({},i,e._attributes.items[J])),e._forContent[J]=Array.from(X.childNodes),this.executeBlockHelpers(e._helpers[J]),z.appendChild(X),K.stop)break}g&&(LyteComponent.unbound=b),"default"===t.type?q={toAppendMain:z,lastNode:u}:u.parentNode.insertBefore(z,u),!g&&e._removedAttributes&&e._removedAttributes.items&&!e._removedAttributes.items.helperValue&&e._removedAttributes.items._multipleProperty&&LyteComponent.establishBindings({items:e._removedAttributes.items._multipleProperty[0].actProp},{items:d})}for(var Z=f;Z<e._items.length;Z++)e._items[Z].indexProperty&&LyteComponent.affectChanges(e._items[Z].indexProperty);return this.component.data[i]=a,this.component.data[r]=s,this._properties[i]=p,this._properties[r]=l,e._currentItems=d,q}},{key:"updateForInHelper",value:function(e,t,n,o){var r=this;if(e._callee=this,e._attributes=e._attributes||{},"update"===t.type&&e._currentObject===e._attributes.object)return{};n=n||e._contextSwitchInfo,e._contextSwitchInfo=n;var i=e.getAttribute("key");i||(i="key",e.setAttribute("key","key"));var a=e.getAttribute("value");a||(a="value",e.setAttribute("value","value"));var s=r.component.data[i],p=r.component.data[a],l=r._properties[i],d=r._properties[a];r._properties[i]=r._properties[a]={};var c=e._attributes.object,m=e.content,u=e._dynamicNodes,f=e,h=[];e._items||(e._items={});var y=!1,_=LyteComponent.unbound;if(e.hasAttribute("unbound")&&(y=!0,LyteComponent.unbound=!0),t)switch(t.type){case"delete":this.removeHelpersSpecificIndex(e,t.property);var v=e._keysArray.indexOf(t.property);v>-1&&e._keysArray.splice(v,1),delete e._propBindingObject[t.property];break;case"add":h=[t.property],e._keysArray.push(t.property);break;case"update":e._keysArray.forEach(function(t,n,o){this.removeHelpersSpecificIndex(e,t)},this),e._keysArray=h=c?Object.keys(c):[],e._items={},e._propBindingObject={};break;case"default":e._forContent={},e._helpers={},e._keysArray=h=c?Object.keys(c):[];break;default:Lyte.error("Error in updateForHelper")}var g=void 0;if(!c){var b=document.createDocumentFragment();"default"!==t.type?f.parentNode.insertBefore(b,f):g={toAppendMain:b,lastNode:f}}if(c&&"remove"!==t.type){var C=document.createDocumentFragment();e._propBindingObject=e._propBindingObject||{},h.forEach(function(t,n,s){e._helpers[t]=[],e._items[t]={_dynamicProperty:{},itemProperty:{}},r.component.data[i]=t,r.component.data[a]=c[t],r._properties[i]={},r._properties[a]={};var p={itemIndex:t,itemValue:a,keyValue:i,type:"forIn",node:e};e._items[t]._contextSwitchInfo=p;var l=this.renderNodes(m,u,e,p,o,void 0,e._templateContent);e._items[t].itemProperty=this.getProperty(a),e._propBindingObject[t]=e._items[t].itemProperty,e._forContent[t]=Array.from(l.childNodes),this.executeBlockHelpers(e._helpers[t]),C.appendChild(l)},this),LyteComponent.unbound||(e._attributes.object._bindings||Object.defineProperty(e._attributes.object,"_bindings",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),e._attributes.object._bindings.add(e._propBindingObject),LyteComponent.establishBindings(e._propBindingObject,e._attributes.object)),y&&(LyteComponent.unbound=_),"default"!==t.type?f.parentNode.insertBefore(C,f):g={toAppendMain:C,lastNode:f}}return r.component.data[i]=s,r.component.data[a]=p,r._properties[i]=l,r._properties[a]=d,e._currentObject=c,g}},{key:"updateSwitchHelper",value:function(e,t,n,o,r){var i=t;t._callee||(t._callee=this),n=n||t._contextSwitchInfo,t._contextSwitchInfo=n,t._dynamicProperty=t._dynamicProperty?t._dynamicProperty:{};var a=void 0,s=void 0;if(""===t.getAttribute("value")||t.getAttribute("value")?s=t.getAttribute("value"):t._attributes&&(s=t._attributes.value),!t._currentCase||s!==t._currentCase){if(s)a="if"===e?"true":s.toString();else if("if"===e)a="false";else switch(s){case void 0:a="undefined";break;case null:a="null";break;case!1:a="false";break;case"":a='""'}if(a!==t._currentCase){t._currentCase=a;var p=t._cases[a],l=void 0;if(!p&&(p=t._default,l=window.isIE11Lyte||window.isEdgeLyte?p.templateContent:t.content.querySelector("[default]"),t._isDefault=!0,!l)){t._caseContent&&t._caseContent.length&&this.removeHelpers(t),t._caseContent=[];var d=document.createTextNode("");if(t._caseContent.push(d),t._currentCaseName=a,o)return void i.parentNode.insertBefore(d,t);var c=document.createDocumentFragment();return c.append(d),{lastNode:i,toAppendMain:c}}t._caseContent&&t._caseContent.length&&this.removeHelpers(t);var m=p,u=a,f=void 0;f=l||(window.isIE11Lyte||window.isEdgeLyte?{}:t.content.querySelector("[case='"+LyteComponent.cssEscape(u)+"']"));for(var h=[];m;){var y=m.dynamicNodes,_=this.renderNodes(f.content,y,t,void 0,r,void 0,m.templateContent);if(h.push(_),!m.additional)break;m.additional.next?(f=window.isIE11Lyte||window.isEdgeLyte?{}:t.content.querySelector("[case='"+LyteComponent.cssEscape(m.additional.next)+"']"),m=t._cases[m.additional.next]):(f=window.isIE11Lyte||window.isEdgeLyte?{}:t.content.querySelector("[default]"),m=t._default)}t._caseContent=[];for(var v=document.createDocumentFragment(),g=0;g<h.length;g++)11==h[g].nodeType?t._caseContent=t._caseContent.concat(Array.from(h[g].childNodes)):t._caseContent.push(h[g]),v.append(h[g]);if(this.executeBlockHelpers(t._helpers,t),o){var b=void 0;return v.querySelector("template[is=break]")?b="break":v.querySelector("template[is=continue]")&&(b="continue"),t.parentNode.insertBefore(v,t),b}return{toAppendMain:v,lastNode:t}}}}},{key:"dummy",value:function(e,t){this.constructor._properties[boundValue].observer}},{key:"callObservers",value:function(e,t){var n=this.constructor._properties[e],o=n?n.observer:void 0;if(o)for(var r=0;r<o.length;r++)-1!==t.indexOf(".")&&o[r].path!==t||this["_"+o[r].functionName].apply(this)}},{key:"bindNode",value:function(e,t,n,o,r,i,a,s){var p=o.itemValue,l=o.itemIndex,d=o.type,c=o.indexValue,m=r.dynamicValue,u=r.helperInfo,f=void 0,h=e.ownerElement,y=[];e._callee=this;var _=!1;if(u&&Object.keys(u).length){_=!0;e.nodeName;f=e.helperValue=u;var v=[];if("action"===u.name){var g=u.args[0];u.args[0]=g.startsWith("'")?g.replace(/'/g,""):g,d?h._contextSwitchInfo=o:n&&(h._contextSwitchInfo=n._contextSwitchInfo),g=u.args.slice(0,1)[0];var b=u.args.slice(1,u.args.length),C=!1,L=e.nodeName;return-1!=L.indexOf("-")&&(C=!0),v=[h,L,C,{name:g,args:b}],void this.processHelper({name:u.name,args:v},e)}if(v=this.processArgs(this,u.args,y,void 0,e),f=this.processHelper({name:u.name,args:v},e),"unescape"===u.name){e={dynamicPositions:{initialNode:e,dynamicNodeValue:f},_callee:e._callee,helperValue:e.helperValue},f=void 0,i.push(e)}}else{u={},e.syntaxValue=m;var w=[];f=LyteComponent.get(this.component.data,m,w),y.push(w)}2===e.nodeType&&("string"!=typeof f&&(LyteComponent.isCustomElement(e.ownerElement,!0)||"boolean"==typeof f)||LyteComponent.isControlHelper(e.ownerElement))&&(e={nodeName:e.nodeName,ownerElement:h,nodeType:2,nodeValue:e.nodeValue,_callee:this,syntaxValue:e.syntaxValue,helperValue:e.helperValue,_attributeDetails:e._attributeDetails});var A=void 0;if("unbound"!==u.name&&!LyteComponent.unbound){var N=void 0;n&&(N=d?n._items[l]._dynamicProperty:n._dynamicProperty);for(var x=0;x<y.length;x++){for(var E=y[x],I=0;I<E.length;I++){var S=this.getProperty(E[I]);if(n){var P=E[I].search(/\W/),k=void 0;(k=-1!==P?E[I].substring(0,P):E[I])===p||k===c||o.node&&o.node._properties&&o.node._properties[k]?(e._contextSwitchInfo=o,S._dynamicNodes||(S._dynamicNodes=[],Object.defineProperty(S,"_dynamicNodes",{value:[],enumerable:!1,writable:!0,configurable:!0})),S._dynamicNodes.push(e),k!==c&&(A=S)):(S._helperNodes||Object.defineProperty(S,"_helperNodes",{value:new Set,writable:!0,enumerable:!1,configurable:!0}),S._helperNodes.add(n),N[E[I]]?N[E[I]].push(e):(N[E[I]]=[]).push(e))}else S._dynamicNodes||Object.defineProperty(S,"_dynamicNodes",{value:[],enumerable:!1,writable:!0,configurable:!0}),S._dynamicNodes.push(e);if(h&&"TEMPLATE"===h.tagName&&/^(for|forIn)$/.test(h.getAttribute("is"))&&!_){var O=h.getAttribute("is");("for"===O&&"items"===e.nodeName||"forIn"===O&&"object"===e.nodeName)&&(S._forHelpers||Object.defineProperty(S,"_forHelpers",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),e.ownerElement._actualBinding=S,S._forHelpers.add(e.ownerElement))}a&&LyteComponent.establishSelectedBinding(S,this.component.data,this)}E.length>1&&(e._multipleProperty=e._multipleProperty||[],e._multipleProperty.push({dynamicProp:A?void 0:N,actProp:this.getProperty(E[0]),helperNode:n,dynamicValues:E}))}}if(f="boolean"===!(void 0===f||_typeof(f))&&"number"===!(void 0===f||_typeof(f))?f||"":f,2===e.nodeType){var j=e._parentNode?e._parentNode:e.ownerElement;if(j.tagName)j.getAttribute("is");var B=LyteComponent.isCustomElement(j,!0);B&&(j.set?j.set(LyteComponent.String.toCamelCase(e.nodeName),f):(j._initProperties=j._initProperties||{},j._initProperties[LyteComponent.String.toCamelCase(e.nodeName)]=f));var D=f;if(B&&"string"!=typeof f&&!s)j._attributes=j._attributes||{},j._attributes[e.nodeName]=f,"TEMPLATE"===j.nodeName&&_&&f&&("for"===j.getAttribute("is")&&"items"===e.nodeName||"forIn"===j.getAttribute("is")&&"object"===e.nodeName&&!LyteComponent.unbound)&&(f._bindings||Object.defineProperty(f,"_bindings",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),e.ownerElement._actualBinding={_forHelpers:(new Set).add(j),_createdBinding:!0},f._bindings.add(e.ownerElement._actualBinding)),t.push(e.nodeName);else if("boolean"==typeof f)j._attributes=e.ownerElement._attributes||{},j._attributes[e.nodeName]=f,f?j.setAttribute(e.nodeName,""):t.push(e.nodeName);else if(f="object"===(void 0===f?"undefined":_typeof(f))?"undefined"!=typeof Record&&f instanceof Record?JSON.stringify(f.$.toJSON()):JSON.stringify(f):void 0===f?"":f,LyteComponent.isControlHelper(e.ownerElement))j._attributes=e.ownerElement._attributes||{},j._attributes[e.nodeName]=f,t.push(e.nodeName);else{var H=void 0===f?"":f;"style"===e.nodeName?e.ownerElement.setAttribute("style",H):e.nodeValue=H}"LYTE-YIELD"===j.tagName&&(j.component.data[LyteComponent.String.toCamelCase(e.nodeName)]=D),/^(INPUT|TEXTAREA|SELECT)$/.test(j.nodeName)&&("value"===e.nodeName?j.value=void 0===f?"":f:"checked"===e.nodeName&&(j.checked=f))}else e.nodeValue=void 0===f?"":f;return e}},{key:"debounce",value:function(e,t){var n;return function(){var o=this,r=arguments;n&&clearTimeout(n),n=setTimeout(function(){e.apply(o,r),n=null},t||100)}}},{key:"getProperty",value:function(e){var t=e.split("."),n=this;n._properties[t[0]]||(n._properties[t[0]]={}),n=n._properties[t[0]],Object.defineProperty(n,"_path",{enumerable:!1,value:t[0]});for(var o=1;o<t.length;o++)n[t[o]]||(n[t[o]]={},Object.defineProperty(n[t[o]],"_path",{enumerable:!1,value:n._path+"."+t[o]})),n=n[t[o]];return n}},{key:"updateNode",value:function(e,t){var n=[],o=void 0;if(e._multipleProperty)for(var r=0;r<e._multipleProperty.length;r++)if(e._multipleProperty[r]&&e._multipleProperty[r].dynamicValues.lastIndexOf(t)>0){n[r]=!1;var i=void 0;if((o=e._multipleProperty[r]).dynamicProp){if(n[r]=o,i=o.dynamicProp[o.actProp._path]){var a=i.indexOf(e);i.splice(a,1)}var s=o.helperNode;if(0===i.length)if("if"===s.getAttribute("is"))o.actProp._helperNodes.delete(s),delete o.dynamicProp[o.actProp._path];else if(delete o.dynamicProp[o.actProp._path],s._items){for(var p=!0,l=0;l<s._items.length;l++)if(s._items[l]._dynamicProperty&&s._items[l]._dynamicProperty[o.actProp._path]){p=!1;break}p&&o.actProp._helperNodes.delete(s)}}if(!n[r]&&(n[r]="dynamicNodes",i=o.actProp._dynamicNodes)){var d=i.indexOf(e);i.splice(d,1),i.length||delete o.actProp._dynamicNodes}}if(e.syntaxValue||e.helperValue){var c=void 0,m=void 0;if(e._contextSwitchInfo||2===e.nodeType&&e.ownerElement._contextSwitchInfo){c=e._contextSwitchInfo||e.ownerElement._contextSwitchInfo;var u=[];LyteComponent.changeContext(c.node,u,c)}else if("LYTE-YIELD"===e.tagName&&e._callee._contextSwitchInfo){m=!0,c=e._callee._contextSwitchInfo;u=[];LyteComponent.changeContext(c.node,u,c,!0)}var f=void 0,h=[];if(e.helperValue){var y=f=e.helperValue;if(f=this.processHelper({name:y.name,args:this.processArgs(this,y.args,h)},e),"unescape"===y.name){for(var _=e.dynamicPositions,v=_.startingNode,g=_.length;g>1;){var b=v.nextSibling;v.remove(),v=b,g--}var C=f.childNodes.length;C||(f.appendChild(document.createTextNode("")),C=1);var L=f.childNodes[0];v.replaceWith.apply(v,f.childNodes);var w={startingNode:L,length:C};e.dynamicPositions=w,f=void 0}}else{var A=e.syntaxValue,N=void 0;-1===A.indexOf(".")&&-1===A.indexOf("[")||(N=A,A=A.substring(0,A.indexOf(".")));var x=N?LyteComponent.get(this.component.data,N,h):this.component.data[A];f="boolean"===!(void 0===x||_typeof(x))&&"number"===!(void 0===x||_typeof(x))?x||"":x}if(h[0]instanceof Array||(h=[h]),n)for(r=0;r<n.length;r++)if(n[r]){var E=e._multipleProperty[r],I=this.getProperty(h[r][0]),S=this.getProperty(h[r][0].substring(0,h[r][0].indexOf("."))),P=this.getData(h[r][0].substring(0,h[r][0].indexOf(".")));if("dynamicNodes"===n[r])I._dynamicNodes||Object.defineProperty(I,"_dynamicNodes",{value:[],enumerable:!1,writable:!0,configurable:!0}),I._dynamicNodes.push(e);else{I._helperNodes||Object.defineProperty(I,"_helperNodes",{value:new Set,writable:!0,enumerable:!1,configurable:!0}),I._helperNodes.add(E.helperNode);var k=E.dynamicProp;k[I._path]?k[I._path].push(e):(k[I._path]=[]).push(e)}LyteComponent.establishBindings(S,P),e._multipleProperty[r].actProp=I,e._multipleProperty[r].dynamicValues=h[r]}if(2===e.nodeType){var O=[],j=e._parentNode?e._parentNode:e.ownerElement;if("TEMPLATE"===j.tagName&&"component"===j.getAttribute("is")&&"component-name"!==e.nodeName){if(j.hasAttribute("lyte-keep-alive"))for(var B in j._renderedComponent)O.push(j._renderedComponent[B]);else O.push(j._renderedComponent[j.getAttribute("component-name")])}O.push(j);for(var D=0;D<O.length;D++){var H=O[D];if(H.set?H.set(LyteComponent.String.toCamelCase(e.nodeName),f,!0):(H._initProperties=H._initProperties||{},H._initProperties[LyteComponent.String.toCamelCase(e.nodeName)]=f),"LYTE-YIELD"===H.tagName&&H.component.data&&e.nodeName&&H.component.data[e.nodeName]!==f&&LyteComponent.set(H.component.data,LyteComponent.String.toCamelCase(e.nodeName),f,void 0,H),H._attributes=H._attributes||{},LyteComponent.isCustomElement(H,!0)&&"string"!=typeof f&&void 0!==f){if("TEMPLATE"===e.ownerElement.nodeName){if(e.helperValue&&("for"===e.ownerElement.getAttribute("is")&&"items"===e.nodeName||"forIn"===e.ownerElement.getAttribute("is")&&"object"===e.nodeName)){var T=e.ownerElement._attributes[e.nodeName],M=f;LyteComponent.removeSelectedBindingDeep(e.ownerElement._actualBinding,T),M&&(M._bindings||Object.defineProperty(M,"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),M._bindings.add(e.ownerElement._actualBinding),LyteComponent.establishBindings(e.ownerElement._actualBinding,M)),"object"===e.nodeName&&LyteComponent.removeSelectedBindingDeep(e.ownerElement._propBindingObject,T)}H.removeAttribute(e.nodeName)}}else if("boolean"==typeof f)H._attributes=H._attributes||{},H._attributes[e.nodeName]=f,f?H.setAttribute(e.nodeName,""):H.removeAttribute(e.nodeName);else{var Y=void 0===(f="object"===(void 0===f?"undefined":_typeof(f))?"undefined"!=typeof Record&&f instanceof Record?JSON.stringify(f.$.toJSON()):JSON.stringify(f):f)?"":f;"style"===e.nodeName?e.ownerElement.setAttribute("style",Y):e.nodeValue=Y}H._attributes[e.nodeName]=f,/^(INPUT|TEXTAREA|SELECT)$/.test(H.nodeName)&&("value"===e.nodeName?H.value=void 0===f?"":f:"checked"===e.nodeName&&(H.checked=f));var V=H._isStopped,F=void 0;switch(H.getAttribute("is")){case"for":this.updateForHelper(H,{type:"update"});break;case"if":F=this.updateSwitchHelper("if",H,void 0,!0,!0);break;case"forIn":this.updateForInHelper(H,{type:"update"});break;case"switch":this.updateSwitchHelper("switch",H,void 0,!0,!0);break;case"component":"component-name"===e.nodeName&&this.updateDynamicComponent(H,"update")}var R=void 0;V&&V!==F?R=F?"break"===F?"MS":"SM":"break"===V?"SM":"SS":"break"===F?R="MS":"continue"===F&&(R="SS"),R&&this.handleBreak(H._contextSwitchInfo,R)}}else e.nodeValue=void 0===f?"":f;c&&LyteComponent.removeContext(c.node,u,c,m)}}},{key:"handleBreak",value:function(e,t){if(e){for(var n=e.node,o=e.itemIndex,r=(n.getAttribute("item"),e.node._forContent),i="M"===t[0]?r.length:o+1,a=o;a<i;a++){for(var s=r[a],p=0;p<s.length;p++)s[p].remove(),(s[p]._forContent||s[p]._caseContent)&&this.removeHelpers(s[p]);r[a]=[],LyteComponent.removeSelectedBindingDeep(n._items[a].itemProperty,n._attributes.items[a]),n._helpers[a]=[],n._items[a]={_dynamicProperty:{},itemProperty:{},indexProperty:{}}}var l=n._attributes.items.length;"M"===t[1]?this.updateForHelper(n,{firstIndex:o,secondIndex:l-o,type:"replace"},void 0,{}):this.updateForHelper(n,{firstIndex:o,secondIndex:1,type:"replace"},void 0,{})}}},{key:"createCustomEvent",value:function(e,t,n){var o=new CustomEvent(e);t._actions[e]=o,t._actions[e].processAction=n}},{key:"isEmptyString",value:function(e){return!("string"==typeof e)||""===e}},{key:"processArgs",value:function(e,t,n,o,r){n=n||[],t=Array.isArray(t)?Array.from(t):t;for(var i=0;i<t.length;i++)if(this.isEmptyString(t[i]))t[i]&&t[i].type&&this.internalHelpers(e,t,i,n,o,r);else if(t[i].startsWith("'")&&t[i].endsWith("'"))t[i]=t[i].substr(1,t[i].length-2);else{t[i]=t[i].trim();var a=[];"event"===t[i]&&o?t[i]=o:"this"===t[i]&&r?t[i]=2===r.nodeType?r.ownerElement:r:t[i]=LyteComponent.get(e.component.data,t[i],a),n.push(a)}return t}},{key:"internalHelpers",value:function(e,t,n,o,r,i){var a=t[n].value,s=this.processHelper({name:a.name,args:this.processArgs(e,a.args,o,r,i)});t[n]=s}},{key:"processHelper",value:function(e,t){var n=[];if("method"===e.name&&n.push(this,t),"lbind"===e.name&&n.push(t.ownerElement),Lyte.Component.registeredHelpers[e.name])return Lyte.Component.registeredHelpers[e.name].apply(this,n.concat(e.args));Lyte.error("LC003",e.name)}},{key:"getActionProperty",value:function(e){var t=this._properties;return t?t[e].value:void 0}},{key:"hasInternalBindings",value:function(e){return e.match(/[(]{1}[^)]+[)]{1}/)}},{key:"getArgValues",value:function(e,t){for(var n=[],o=0;o<e.length;o++)n.push(t[e[o]].value);return n}},{key:"createEventListeners",value:function(e,t,n){var o=this;if(e._callee=this,!/^(focus|focusin|focusout|resize|scroll|click|dblclick|mousedown|mouseup|mousemove|mouseover|mouseout|change|select|submit|keydown|keypress|keyup|contextmenu)$/.test(t)){var r=t.substr(2),i=(e.getAttribute(r),function(r){var i;window.event||(window.event=r,i=!0),LyteComponent.throwAction.call(o,o,t.substr(2),n,void 0,void 0,e,r),i&&(window.event=void 0)});Lyte.Component.registeredComponents[e.localName]&&!e.component||"TEMPLATE"===e.tagName&&"component"===e.getAttribute("is")?(e._toRegEvnts=e._toRegEvnts||{},e._toRegEvnts[t.substr(2)]={listener:i,attrVal:this.tagName.toLowerCase()+" => "+n.name}):(e.setAttribute(r,this.tagName.toLowerCase()+" => "+n.name),e.addEventListener(t.substr(2),i)),e.hasAttribute(t)&&(e[t]=void 0),e.removeAttribute(t)}}},{key:"registerYields",value:function(){this._yields={};for(var e=this.querySelectorAll("template[is=registerYield],template[is=yield]"),t=0;t<e.length;t++){var n=void 0;e[t].hasAttribute("from-parent")&&this._callee&&(n=this._callee._yields[e[t].getAttribute("yield-name")])?this._yields[e[t].getAttribute("yield-name")]=n:this._yields[e[t].getAttribute("yield-name")]=e[t]}}},{key:"connectedCallback",value:function(){if(!this.hasAttribute("lyte-rendered")&&Lyte.Component.registeredComponents[this.localName]){var e=this.constructor._templateAttributes;if(e&&e.attr)for(var t in e.attr){var n=e.attr[t];if(!this.hasAttribute(n.name)&&!this.component.data.hasOwnProperty(n.name)||n.globalEvent)if(n.globalEvent){this._evBoundEvents=this._evBoundEvents||{};var o=n.helperInfo.args[0],r=void 0;o.startsWith('"')||o.startsWith("'")?r=o.substring(1,o.length-1):(console.warn("Deprecation warning. Action name should be in quotes"),r=o),this._evBoundEvents[n.name]={name:r,args:n.helperInfo.args,from:"component"};var i=this.getAttribute(n.name),a=this.constructor._template.getAttribute(n.name);this.setAttribute(n.name,a+(i?" ; "+i:""))}else n.from="component",n.staticValue?this.setAttribute(e.attr[t].name,n.staticValue):(this.setAttribute(e.attr[t].name,"{{dummy}}"),this.bindNode(this.attributes.getNamedItem(e.attr[t].name),[],void 0,{},e.attr[t],void 0,void 0,!0))}for(var s in this._toRegEvnts)this.addEventListener(s,this._toRegEvnts[s].listener),this.hasAttribute(s)?this.setAttribute(s,this.getAttribute(s)+" ; "+this._toRegEvnts[s].attrVal):this.setAttribute(s,this._toRegEvnts[s].attrVal);this._toRegEvnts={};var p=this.afterConnected();LyteComponent.unbound||(LyteComponent.establishObserverBindings.call(this,this.constructor._observers),Object.defineProperty(this.component,"_bindings",{enumerable:!1,writable:!0,configurable:!0,value:new Set}),this.component._bindings.add(this._properties),LyteComponent.establishBindings(this._properties,this.component.data)),LyteComponent.unbound=!1,this.appendChild(p),this.setAttribute("lyte-rendered","");var l=new CustomEvent("onReady");this.dispatchEvent(l),this.callback("didConnect"),this.onCallBack("didConnect")}}},{key:"onCallBack",value:function(e){var t=this.constructor._callBacks[e];if(t)for(var n=0;n<t.length;n++)try{t[n].value.call(this.component)}catch(e){Lyte.error(e)}}},{key:"callback",value:function(e){var t,n=this.component[e];if(n){arguments.length>1&&(t=Array.from(arguments)).splice(0,1);try{n.apply(this.component,t||[])}catch(e){Lyte.error(e)}}}},{key:"establishObserverBindings",value:function(){for(var e=this.constructor._observers,t=0;t<e.length;t++)for(var n=e[t].properties,o=0;o<n.length;o++){var r=void 0,i=!1;-1!==n[o].indexOf(".[]")?(i=!0,r=this.getProperty(n[o].substring(0,n[o].indexOf(".[]")))):r=this.getProperty(n[o]),r._observers||Object.defineProperty(r,"_observers",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),r._observers.add({callee:this,observer:e[t],isArrayObserver:i})}}},{key:"removeBindings",value:function(e,t){for(var n in e){var o=t[n];o&&o._bindings&&o._bindings.delete(e[n]),"object"===_typeof(e[n])&&o&&this.removeBindings(e[n],o)}}},{key:"disconnectedCallback",value:function(){if(!LyteComponent.ignoreDisconnect){this.component._bindings=null,LyteComponent.removeSelectedBindingDeep(this._properties,this.component.data);for(var e in this._properties)this._properties[e]={};this.callback("didDestroy"),this.onCallBack("didDestroy");var t=this;setTimeout(function(){t.component&&(t.component.$node=null,t.component.__data=null,t.component.data.__component__=null,t.component.data=null,t.component=null,t=null)},0),this.constructor.activeInstances--}}}],[{key:"getArrayIndex",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n}},{key:"getTrimmedContent",value:function(e,t,n){var o=e;if(n){t=[];for(var r=n.parentNode;t.unshift(this.getArrayIndex(r.childNodes,n)),r=r.parentNode,n=n.parentNode,r;);}for(var i=0;i<t.length;i++){for(var a=e.childNodes.length-1;a>t[i];a--)e.childNodes[a].remove();e=e.childNodes[t[i]]}return o}},{key:"updateValue",value:function(e,t,n){for(var o=t.split("."),r=e,a=0;a<o.length-1;a++)r=r[o[a]];r[o[i]]=n}},{key:"createDocFragment",value:function(e){for(var t=e.cloneNode(!0,"lyte").childNodes,n=document.createDocumentFragment(),o=t.length,r=0;r<o;r++)n.appendChild(t[0]);return n}},{key:"createDocFragment1",value:function(e){if(window.isEdgeLyte)return e.content;for(var t=e.childNodes,n=document.createDocumentFragment(),o=t.length,r=0;r<o;r++)n.appendChild(t[0]);return n}},{key:"_registerComponent",value:function(e,t){var n=LyteComponent.lyteComponentsDiv,o=Lyte.$.assetsDiv;if(this._template&&"string"==typeof this._template){this._template.replace(/\\'/g,"'");var r=document.createElement("div");for(r.innerHTML=this._template;r.firstChild;)"STYLE"===r.firstChild.nodeName?o.appendChild(r.firstChild):n.appendChild(r.firstChild)}else document.querySelector("template[tag-name='"+e+"']")&&n.appendChild(document.querySelector("template[tag-name='"+e+"']"));if(this._template=n.querySelector("template[tag-name='"+e+"']"),this._template){LyteComponent.needDummyComponentsDiv&&LyteComponent.dummyLyteComponentsDiv.appendChild(this._template.cloneNode(!0)),this._template&&this._template.content;var i=window.isIE11Lyte?this._template:this._template.content;if(this.splitTextNodes(i),this._dynamicNodes||(Lyte.Compile.getDynamicNodes?this._dynamicNodes=Lyte.Compile.getDynamicNodes(e).dynamicNodes:Lyte.error("LC002",e)),this._dynamicNodes){doCompile(i,this._dynamicNodes,e),window.isEdgeLyte?this._templateContent=this._template.outerHTML:window.isIE11Lyte&&(this._templateContent=i.outerHTML),this._templateAttributes=this._templateAttributes||{type:"attr",attr:{},position:[]};var a=[this._templateAttributes];if(doCompile(this._template,a,e),this._templateAttributes=a[0],this._templateAttributes&&this._templateAttributes.attr){var s=this._template.attributes;try{for(var p=0;p<s.length;p++)this._templateAttributes.attr[s[p].name]||"tag-name"===s[p].name||"use-strict"===s[p].name||(this._templateAttributes.attr[s[p].name]={name:s[p].name,staticValue:s[p].value})}catch(e){Lyte.error("Error with templateAttributes. ")}}}}}},{key:"splitTextNodes",value:function(e){if(e&&e.childNodes&&e.childNodes.length)for(var t=e.childNodes.length-1;t>=0;t--)this.splitTextNodes(e.childNodes[t]);if("TEMPLATE"!==e.tagName||window.isIE11Lyte||this.splitTextNodes(e.content),e.nodeType===e.TEXT_NODE){var n=e.nodeValue;if(n){var o=n.match(/{{[^}]*?(?:(?:('|")[^\1]*?\1)[^}]*?)*}}/g);if(!o)return;for(var r=[],i=0;i<o.length;i++){var a=n.indexOf(o[i]),s=a+o[i].length;a&&r.push(document.createTextNode(n.substring(0,a))),r.push(document.createTextNode(n.substring(a,s))),n=n.substring(s)}if((n.trim()||!e.nextSibling||3!==e.nextSibling.nodeType||e.nextSibling.nodeValue.trim())&&r.push(document.createTextNode(n)),window.replaceWithNeeded&&"#document-fragment"===e.parentNode.nodeName){for(var p=0;p<r.length;p++)e.parentNode.insertBefore(r[p],e);e.remove()}else e.replaceWith.apply(e,r)}}}},{key:"observedAttributes",get:function(){for(var e=[],t=0;t<this._observedAttributes.length;t++)e[t]=LyteComponent.String.dasherize(this._observedAttributes[t]);return LyteComponent.customPropHandlers.forEach(function(t,n){e.push(LyteComponent.String.dasherize(t))}),e}}]),t}();Function.prototype.on=function(){return{type:"callBack",value:"observer"===this.type?this.value:this,properties:arguments,observes:"observer"===this.type?this:void 0}},Function.prototype.observes=function(){return{type:"observer",value:this,properties:arguments,on:Function.prototype.on}},Function.prototype.computed=function(){return{type:"computed",value:this,properties:arguments}};var LyteComponent={customPropRegex:"",customPropHandlers:[],_registeredComponents:{},toBeRegistered:[],throwEvent:function(e){var t=this.$node?this.$node:this,n=t._actions?t._actions[e]:void 0,o=[];if(arguments.length>1)for(var r=1;r<arguments.length;r++)o.push(arguments[r]);LyteComponent.throwAction.call(t,t._callee,e,void 0,!0,o,t),this.$node&&t.dispatchEvent(n||new CustomEvent(e,{detail:o}))},throwAction:function(e,t,n,o,r,i,a,s){var p=void 0;if(this._route&&o)p=(e=this._route).actions||(e.actions={});else if(this.routeName){var l=this.parent;l&&(p=l.component?(e=l.component).constructor._actions:(e=l).actions||(e.actions={}))}else e&&(p=e.constructor._actions);if(e){n=n||(this._actions&&this._actions[t]?this._actions[t].processAction:void 0);var d=r||[];if(n){var c=[];if(i&&LyteComponent.newAddContext(i,c),d.splice.apply(d,[0,0].concat(this.processArgs(e,n.args,void 0,a,i))),i&&LyteComponent.newRemoveContext(i,c),p[n.name])if(o)p[n.name].apply(this._callee.component,d),s=!0;else{var m=i.parentNode,u=p[n.name].apply(this.component,d);if(s=!0,!1!==u&&!a.cancelBubble)if(n.from&&i.getAttribute(a.type)&&i._boundEvents&&i._boundEvents[a.type]){i._callee.constructor._actions;var f=i._boundEvents[a.type],h=Lyte.deepCopyObject(f);h.args.shift(),LyteComponent.throwAction.call(i._callee,i._callee,a.type,h,void 0,void 0,i,a,s)}else{if(LyteComponent.hasLyteEvents(i,t)){u=!LyteComponent.handleLyteEvents(i,a)}if(!1===u)return;if(LyteComponent.isCustomElement(i)&&(e=m),m){for(var y=void 0;m&&!m.getAttribute(t)&&"BODY"!=m.tagName&&(!LyteComponent.hasLyteEvents(m,t)||!(y=LyteComponent.handleLyteEvents(m,a)));)m=m.parentNode;if(y||!m||"BODY"===m.tagName)return;if(m._callee||(m._callee=m.getCallee?m.getCallee(m):this.getCallee(m)),m&&a.type===t&&!a.cancelBubble)if(m._evBoundEvents&&m._evBoundEvents[t]){var _=m._evBoundEvents[t],v=Lyte.deepCopyObject(_);v.args.shift(),LyteComponent.throwAction.call(m._callee,m._callee,t,v,void 0,void 0,m,a,s)}else if(m&&m._boundEvents&&m._boundEvents[t]){var g=m._boundEvents[t],b=Lyte.deepCopyObject(g);b.args.shift(),LyteComponent.throwAction.call(m._callee,m._callee,t,b,void 0,void 0,m,a,s)}}}}else Lyte.error("LC004",n.name)}else if(o){var C=p[t]||p[LyteComponent.String.toCamelCase(t)]||p[LyteComponent.String.dasherize(t)];if(C){var L=LyteComponent.isCustomElement(e)?e.component:e;s=!0,!1!==C.apply(L,d)&&LyteComponent.throwAction.call(e,e._callee,t,n,o,r,void 0,void 0,s)}else LyteComponent.throwAction.call(e,e._callee,t,n,o,r,void 0,void 0,s)}}else s||console.warn("Nothing handled the action "+t+".")},processHelperArgs:function(){},isControlHelper:function(e){return"TEMPLATE"===e.tagName&&e.getAttribute("is")&&"component"!==e.getAttribute("is")},isCustomElement:function(e,t){return"TEMPLATE"===e.tagName&&t||e.nodeName&&-1!==e.nodeName.indexOf("-")&&(Lyte.Component.registeredComponents[e.localName]||"LYTE-YIELD"===e.tagName)},componentSet:function(e,t,n,o){(n||this.get(e)!==t)&&LyteComponent.set(this.data,e,t,void 0,o)},componentGet:function(e){return e?LyteComponent.get(this.data,e):this.data},nodeGet:function(e){return e?this.component.get(e):this.component.data},nodeSet:function(e,t,n){this.component.set(e,t,void 0,n)},registerComponent:function(e,t,n){function o(){}if(Lyte.Component.registeredComponents[e])console.warn("Component "+e+" already registered");else{var r=void 0;LyteComponent._registeredComponents[e]?r=LyteComponent._registeredComponents[e]:((r=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,customElementPrototype),t}())._properties={},r.activeInstances=0,r.prototype.get=this.nodeGet,r.prototype.set=this.nodeSet,r.prototype.throwAction=this.throwAction);var i=[];(n=n||{}).mixins&&n.mixins.forEach(function(e){i.push(Lyte.registeredMixins[e])}),r.component=o,o.prototype.set=this.componentSet,o.prototype.get=this.componentGet,o.prototype.throwEvent=this.throwEvent,o.prototype.executeMethod=LyteComponent.executeMethod,o.prototype.getData=LyteComponent.componentGetData,o.prototype.setData=LyteComponent.componentSetData,o.prototype.getMethods=LyteComponent.componentGetMethods,o.prototype.setMethods=LyteComponent.componentSetMethods,r._mixins=n.mixins;for(var a=i.length,s={},p={},l={},d=0;d<a;d++)for(var c in i[d])"actions"===c?Object.assign(s,i[d][c]):"methods"===c?Object.assign(p,i[d][c]):l[c]=i[d][c];t=Object.assign(l,t),r._actions=Object.assign({},s,t.actions),r._template=t._template,delete t._template,r._dynamicNodes=t._dynamicNodes,delete t._dynamicNodes,r._templateAttributes=t._templateAttributes,delete t._templateAttributes,r._callBacks={},r._observers=[];var m=t.data?t.data:void 0,u=Object.assign({},p,t.methods);r._observedAttributes=t._observedAttributes||[],r._observedMethodAttributes=t._observedMethodAttributes||{},delete t._observedAttributes,delete t._observedMethodAttributes,delete t.data,delete t.methods;for(var f in t)if("observer"===t[f].type)r._observers.push(t[f]);else if("callBack"===t[f].type){for(var h=t[f].properties,y=0;y<h.length;y++)r._callBacks[h[y]]||(r._callBacks[h[y]]=[]),r._callBacks[h[y]].push(t[f]);t[f].observes&&r._observers.push(t[f].observes)}else o.prototype[f]=t[f];r._data=m,r._methods=u,r._registerComponent(e,r),Lyte.Component.registeredComponents[e]=!0,LyteComponent._registeredComponents[e]||("complete"===document.readyState||"interactive"===document.readyState?customElements.define(e,r):LyteComponent.toBeRegistered.push({name:e,def:r})),LyteComponent._registeredComponents[e]=r}},registerHelper:function(e,t){Lyte.Component.registeredHelpers[e]=t},registerMixin:function(e,t){Lyte.Mixin.register.call(Lyte,e,t)},typeCast:function(e,t,n){if(null===e)return"boolean"!==t&&void 0;try{switch(t){case"string":return"object"===(void 0===e?"undefined":_typeof(e))?JSON.stringify(e):e.toString();case"number":var o=+e;if(isNaN(o))throw"TypeCast exception";return o;case"array":case"object":return JSON.parse(e);case"boolean":return!(!e&&""!==e||"false"===e);default:return e}}catch(t){return n&&(n.isError=!0),e}},getDataType:function(e){var t=void 0===e?"undefined":_typeof(e);return"object"===t&&e instanceof Array?"array":t},update:function(e,t,n,o,r,i,a,s){var p=e.__component__,l=!0;if(!r)if(r=e[t],e.hasOwnProperty(t)||e instanceof Array||LyteComponent.objectFunctions(e,"add",t,n,!0),p&&"LYTE-YIELD"!==p.tagName){var d=void 0,c=p.component.__data[t];if(c&&(d=c.type)&&(l=!c.hideAttr,d===LyteComponent.getDataType(n)||void 0===n&&"boolean"!==d||(n=LyteComponent.typeCast(n,d))),n===r)return;var m=Lyte.validate(e,t,n,p.component);if(m)return LyteComponent.set(p.component.data.errors,t,m),void p.callback("onError",t,m);p.component.data.errors[t]&&Lyte.objectUtils(p.component.data.errors,"delete",t),e[t]=n}else e[t]=n;var u=!!p,f=LyteComponent.String.dasherize(t);if(p&&a&&("string"==typeof n&&p.getAttribute(f)!==n||p.hasAttribute(f))&&(!LyteComponent.customPropRegex.exec(t)||p.hasAttribute(f))&&l)if("object"===(void 0===n?"undefined":_typeof(n))){var h=JSON.stringify(n);p.attributes.getNamedItem(f).__lyteIgnore=!0,p.setAttribute(f,h)}else{var y=LyteComponent.typeCast(n,"string");if(p.getAttribute(f)!==y){var _=p.attributes.getNamedItem(f);_&&(_.__lyteIgnore=!0),y=y||"",p.setAttribute(f,y)}}if(n&&"string"!=typeof n&&"boolean"!=typeof n&&"number"!=typeof n){if(r&&"object"===(void 0===r?"undefined":_typeof(r))&&r._bindings){if(n._bindings||Object.defineProperty(n,"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),p&&p.component.data===e&&-1===t.indexOf(".")){var v=p.getProperty(t);if(this.removeSelectedBindingDeep(v,r),n._bindings.add(v),this.establishBindings(v,n),v._forHelpers)for(var g=v._forHelpers.toArrayLyte(),b=0;b<g.length;b++){var C=g[b];C._propBindingObject&&this.removeSelectedBindingDeep(C._propBindingObject,r)}this.affectChanges(v,void 0,r,i,e[t])}else if(e._bindings)for(var L=e._bindings.toArrayLyte(),w=0;w<L.length;w++){var A=L[w][t];if(A){if(this.removeSelectedBindingDeep(A,r),n._bindings.add(A),this.establishBindings(A,n),A._forHelpers)for(var N=A._forHelpers.toArrayLyte(),x=0;x<N.length;x++){var E=N[x];E._propBindingObject&&this.removeSelectedBindingDeep(E._propBindingObject,r)}this.affectChanges(A,void 0,r,i,e[t])}}}else if(e._bindings){n._bindings||Object.defineProperty(n,"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0});for(var I=e._bindings.toArrayLyte(),S=0;S<I.length;S++){var P=I[S];P[t]&&(n._bindings.add(P[t]),this.establishBindings(P[t],n),this.affectChanges(P[t],void 0,r,i,e[t]))}}}else{if(r&&"object"===(void 0===r?"undefined":_typeof(r))&&r._bindings)for(var k=e._bindings.toArrayLyte(),O=0;O<k.length;O++){var j=k[O];if(j[t]&&(this.removeSelectedBindingDeep(j[t],r),j[t]._forHelpers))for(var B=j[t]._forHelpers.toArrayLyte(),D=0;D<B.length;D++){var H=B[D];H._propBindingObject&&this.removeSelectedBindingDeep(H._propBindingObject,r)}}if(e._bindings)for(var T=e._bindings.toArrayLyte(),M=0;M<T.length;M++){var Y=T[M];Y[t]&&this.affectChanges(Y[t],void 0,r,i,e[t])}}if(u&&!s&&p._attributeDetails&&p._callee){var V=p._attributeDetails[LyteComponent.String.dasherize(t)],F=void 0;if(V&&V.isLbind&&(F=V.dynamicValue),F){var R=void 0;p._contextSwitchInfo&&(R=[],LyteComponent.changeContext(p._contextSwitchInfo.node,R,p._contextSwitchInfo));var W=LyteComponent.getNew(p._callee.component.data,F),$=!1;W.context===p._callee.component.data?p._callee._properties[W.lastKey]&&p._callee._properties[W.lastKey].__fromComponent&&($=!0):$=!0,$&&LyteComponent.set(W.context,W.lastKey,n),R&&LyteComponent.removeContext(p._contextSwitchInfo.node,R,p._contextSwitchInfo)}}},set:function(e,t,n,o,r){if("string"!=typeof t||e[t]!==n){var i=-1,a=t;if(t instanceof Object||(i=t.lastIndexOf(".")),-1!==i){var s=t.substring(0,i);t=t.substring(i+1),e=LyteComponent.get(e,s)}var p=[];if(e._setterScope)var l=e._setterScope;if(a=a===t?a:void 0,t instanceof Object)if(Lyte.isRecord(e)&&!o){for(var d in t)Array.isArray(e[d])?p.push({key:d,oldValue:e[d].slice(0)}):p.push({key:d,oldValue:e[d]});var c=store.$.setData(e.$,t);if(c.$.isError)return c;for(var m=0;m<p.length;m++)LyteComponent.update(e,p[m].key,e[p[m].key],o,void 0===p[m].oldValue?null:p[m].oldValue,l,a,r)}else for(var u in t)LyteComponent.update(e,u,t[u],o,void 0,l,a,r);else if(Lyte.isRecord(e)&&!o){e[t];var f=e.$.model.fieldList[t];!(f=f?f.type:void 0)||void 0===n&&"boolean"!==f||f===LyteComponent.getDataType(n)||(n=LyteComponent.typeCast(n,f));var h=store.$.setData(e.$,t,n);if(h.$.isError)return h}else LyteComponent.update(e,t,n,o,void 0,l,a,r)}},newAddContext:function(e,t){var n="LYTE-YIELD"===e.tagName;!e._contextSwitchInfo||n&&"LYTE-YIELD"===e._contextSwitchInfo.node.tagName?n&&e._callee._contextSwitchInfo&&LyteComponent.changeContext(e._callee._contextSwitchInfo.node,t,e._callee._contextSwitchInfo,!0):LyteComponent.changeContext(e._contextSwitchInfo.node,t,e._contextSwitchInfo,n)},newRemoveContext:function(e,t){var n="LYTE-YIELD"===e.tagName;!e._contextSwitchInfo||n&&"LYTE-YIELD"===e._contextSwitchInfo.node.tagName?n&&e._callee._contextSwitchInfo&&LyteComponent.removeContext(e._callee._contextSwitchInfo.node,t,e._callee._contextSwitchInfo,!0):LyteComponent.removeContext(e._contextSwitchInfo.node,t,e._contextSwitchInfo,n)},changeContext:function(e,t,n,o){if(n){var r="LYTE-YIELD"===e.tagName;!e._contextSwitchInfo||r&&"LYTE-YIELD"===e._contextSwitchInfo.node.tagName?("LYTE-YIELD"===e.tagName||o)&&e._callee&&e._callee._contextSwitchInfo&&LyteComponent.changeContext(e._callee._contextSwitchInfo.node,t,e._callee._contextSwitchInfo):LyteComponent.changeContext(e._contextSwitchInfo.node,t,e._contextSwitchInfo,"LYTE-YIELD"===e.tagName||o);var i=void 0,a=void 0;if(n.type){if("for"===n.type){if(i=e.getAttribute("index"),a=e.getAttribute("item"),0===e._items.length)return}else if(i=e.getAttribute("key"),a=e.getAttribute("value"),0===Object.keys(e._items).length)return;var s=e._callee,p=s.component.data[a],l=s.component.data[i],d=s._properties[a],c=s._properties[i],m="for"===n.type?e._attributes.items:e._attributes.object;s.component.data[a]=m[n.itemIndex],s.component.data[i]=n.itemIndex,s._properties[a]=e._items[n.itemIndex].itemProperty,s._properties[i]={};var u={initialItemValue:p,initialIndexValue:l,initialItemProp:d,initialIndexProp:c};t.push(u)}else{var f={},h=e._registerYield._callee;Object.keys(n.node._properties).forEach(function(e){f[e]={},f[e].value=h.component.data[e],f[e].property=h._properties[e],h._properties[e]=n.node._properties[e],h.component.data[e]=n.node.component.data[e]}),t.push(f)}}},removeContext:function(e,t,n,o){if(n){var r="LYTE-YIELD"===e.tagName;!e._contextSwitchInfo||r&&"LYTE-YIELD"===e._contextSwitchInfo.node.tagName?("LYTE-YIELD"===e.tagName||o)&&e._callee&&e._callee._contextSwitchInfo&&LyteComponent.removeContext(e._callee._contextSwitchInfo.node,t,e._callee._contextSwitchInfo):LyteComponent.removeContext(e._contextSwitchInfo.node,t,e._contextSwitchInfo,"LYTE-YIELD"===e.tagName||o);var i=void 0,a=void 0;if(n.type){if("for"===n.type){if(i=e.getAttribute("index"),a=e.getAttribute("item"),0===e._items.length)return}else if(i=e.getAttribute("key"),a=e.getAttribute("value"),0===Object.keys(e._items).length)return;var s=e._callee,p=(e._attributes.items,t.shift());s.component.data[a]=p.initialItemValue,s.component.data[i]=p.initialIndexValue,s._properties[a]=p.initialItemProp,s._properties[i]=p.initialIndexProp}else{var l=e._registerYield._callee,d=t.shift();Object.keys(n.node._properties).forEach(function(e){l.component.data[e]=d[e].value,l._properties[e]=d[e].property})}}},objectFunctions:function(){var e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],r=arguments[4];if("add"!==t||r){var i={};if(i.type=t,i.property=n,/^(add|delete)$/.test(t)){var a=e._bindings;if("delete"===t&&LyteComponent.set(e,n,void 0),a)for(var s=a.toArrayLyte(),p=0;p<s.length;p++){var l=s[p]._forHelpers;if(l)for(var d=l.toArrayLyte(),c=0;c<d.length;c++){var m=d[c],u=(m.getAttribute("key"),[]);"add"===t&&LyteComponent.newAddContext(m,u),m._callee.updateForInHelper(m,i),"add"===t&&LyteComponent.newRemoveContext(m,u)}}"delete"===t&&delete e[n]}else Lyte.error("LC005",t)}else LyteComponent.set(e,n,o)},arrayFunctions:function(){var e=arguments[0],t=arguments[1];if(!/^(replaceAt|removeAt|shift)$/.test(t)||e.length){var n=arguments[2];switch(t){case"replaceAt":var o=parseInt(arguments[2]);if(o>e.length)return console.warn("index provided for replaceAt is greater than array length"),[];var r=arguments[3];r instanceof Array||(r=[r]);var i=e.splice.apply(e,[o,1].concat(r)),a={firstIndex:o,secondIndex:r.length,type:"replace"};if(e._bindings)for(var s=e._bindings.toArrayLyte(),p=0;p<s.length;p++){var l=s[p];if(l._forHelpers)for(var d=l._forHelpers.toArrayLyte(),c=0;c<d.length;c++){var m=d[c];if(!m.hasAttribute("unbound")){for(var u=o+i.length,f=m.getAttribute("item"),h=o,y=0;h<u;h++,y++)LyteComponent.removeSelectedBindingDeep(_defineProperty({},f,m._items[h].itemProperty),_defineProperty({},f,i[y]));var _=[];LyteComponent.newAddContext(m,_),m._callee.updateForHelper(m,a),LyteComponent.newRemoveContext(m,_)}}for(var v in l){var g=parseInt(v);if(!isNaN(g)&&g>=a.firstIndex){var b=g-a.firstIndex,C=void 0;if(C=b<=a.thirdIndex?i[b]:e[a.firstIndex-1+a.secondIndex+b],this.removeSelectedBindingDeep(l[v],C),l[v]._forHelpers)for(var L=l[v]._forHelpers.toArrayLyte(),w=0;w<L.length;w++){var A=L[w];A._propBindingObject&&this.removeSelectedBindingDeep(A._propBindingObject,C)}e[g]&&"object"===_typeof(e[g])&&(e[g]._bindings||Object.defineProperty(e[g],"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),this.establishBindings({dummy:l[v]},{dummy:e[g]})),this.affectChanges(l[v])}}}return LyteComponent.callArrayObservers(e,{type:"array",insertedItems:r,index:o}),i[0];case"splice":var N=parseInt(arguments[2]);if(N>e.length)return console.warn("index provided for replaceAt is greater than array length"),[];var x=arguments[3],E=arguments[4];E instanceof Array||(E=[E]);var I=e.splice.apply(e,[N,x].concat(E)),S={firstIndex:N,secondIndex:E.length,thirdIndex:x,type:"splice"};if(e._bindings)for(var P=e._bindings.toArrayLyte(),k=0;k<P.length;k++){var O=P[k];if(O._forHelpers)for(var j=O._forHelpers.toArrayLyte(),B=0;B<j.length;B++){var D=j[B];if(!D.hasAttribute("unbound")){for(var H=N+I.length,T=D.getAttribute("item"),M=N,Y=0;M<H;M++,Y++)LyteComponent.removeSelectedBindingDeep(_defineProperty({},T,D._items[M].itemProperty),_defineProperty({},T,I[Y]));var V=[];LyteComponent.newAddContext(D,V),D._callee.updateForHelper(D,S),LyteComponent.newRemoveContext(D,V)}}for(var F in O){var R=parseInt(F);if(!isNaN(R)&&R>=S.firstIndex){var W=R-S.firstIndex,$=void 0;if($=W<=S.thirdIndex?I[W]:e[S.firstIndex-S.thirdIndex+S.secondIndex+W],this.removeSelectedBindingDeep(O[F],$),O[F]._forHelpers){var q=O[F]._forHelpers.toArrayLyte();for(w=0;w<q.length;w++){var z=q[w];z._propBindingObject&&this.removeSelectedBindingDeep(z._propBindingObject,$)}}e[R]&&"object"===_typeof(e[R])&&(e[R]._bindings||Object.defineProperty(e[R],"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),this.establishBindings({dummy:O[F]},{dummy:e[R]})),this.affectChanges(O[F])}}}return LyteComponent.callArrayObservers(e,{type:"array",index:N,insertedItems:E,removedItems:I}),I;case"push":var J=arguments[2];J instanceof Array||(J=[J]),LyteComponent.arrayFunctions(e,"insertAt",e.length,J);break;case"pop":return LyteComponent.arrayFunctions(e,"remove",e.length-1)[0];case"shift":case"shiftObject":return LyteComponent.arrayFunctions(e,"remove",0)[0];case"removeAt":case"remove":var U=parseInt(arguments[2]);if(U>e.length)return console.warn("index provided for removeAt is greater than array length"),[];var G=arguments[3]?parseInt(arguments[3]):1,K={firstIndex:U,secondIndex:G,type:"remove"},X=e.splice(U,G);if(e._bindings)for(var Z=e._bindings.toArrayLyte(),Q=0;Q<Z.length;Q++){var ee=Z[Q];if(ee._forHelpers)for(var te=ee._forHelpers.toArrayLyte(),ne=0;ne<te.length;ne++){var oe=te[ne];if(!oe.hasAttribute("unbound")){for(var re=U+X.length,ie=oe.getAttribute("item"),ae=U,se=0;ae<re;ae++,se++)LyteComponent.removeSelectedBindingDeep(_defineProperty({},ie,oe._items[ae].itemProperty),_defineProperty({},ie,X[se]));var pe=[];LyteComponent.newAddContext(oe,pe),oe._callee.updateForHelper(oe,K),LyteComponent.newRemoveContext(oe,pe)}}for(var le in ee){var de=parseInt(le);if(!isNaN(de)&&de>=K.firstIndex){var ce=de-K.firstIndex,me=void 0;if(me=ce<K.secondIndex?X[ce]:e[K.firstIndex-K.secondIndex+ce],this.removeSelectedBindingDeep(ee[le],me),ee[le]._forHelpers){var ue=ee[le]._forHelpers.toArrayLyte();for(w=0;w<ue.length;w++){var fe=ue[w];fe._propBindingObject&&this.removeSelectedBindingDeep(fe._propBindingObject,me)}}e[de]&&"object"===_typeof(e[de])&&(e[de]._bindings||Object.defineProperty(e[de],"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),this.establishBindings({dummy:ee[le]},{dummy:e[de]})),this.affectChanges(ee[le])}}}return LyteComponent.callArrayObservers(e,{type:"array",removedItems:X,index:U}),X;case"removeObject":n=[n];case"removeObjects":n instanceof Array||(n=[n]);for(var he=0;he<n.length;he++){var ye=e.indexOf(n[he]);-1!==ye&&LyteComponent.arrayFunctions(e,"removeAt",ye)}break;case"unshift":case"unshiftObject":case"unshiftObjects":var _e=arguments[2];_e instanceof Array||(_e=[_e]),LyteComponent.arrayFunctions(e,"insertAt",0,_e);break;case"insertAt":var ve=parseInt(arguments[2]),ge=arguments[3],be=ge.length;ge instanceof Array||(ge=[ge]);for(var Ce=ve;Ce>e.length;Ce--)ge.unshift(void 0),ve--;var Le={firstIndex:ve,secondIndex:ge.length,type:"insert"};if(e.splice.apply(e,[ve,0].concat(ge)),e._bindings)for(var we=e._bindings.toArrayLyte(),Ae=0;Ae<we.length;Ae++){var Ne=we[Ae];if(Ne._forHelpers)for(var xe=Ne._forHelpers.toArrayLyte(),Ee=0;Ee<xe.length;Ee++)if(!xe[Ee].hasAttribute("unbound")){var Ie=xe[Ee],Se=[];LyteComponent.newAddContext(Ie,Se),Ie._callee.updateForHelper(Ie,Le),LyteComponent.newRemoveContext(Ie,Se)}for(var Pe in Ne){var ke=parseInt(Pe);if(!isNaN(ke)&&ke>=Le.firstIndex){if(this.removeSelectedBindingDeep(Ne[Pe],e[ke+Le.secondIndex]),Ne[Pe]._forHelpers){var Oe=Ne[Pe]._forHelpers.toArrayLyte();for(w=0;w<Oe.length;w++){var je=Oe[w];je._propBindingObject&&this.removeSelectedBindingDeep(je._propBindingObject,oldObject)}}e[ke]&&"object"===_typeof(e[ke])&&(e[ke]._bindings||Object.defineProperty(e[ke],"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),this.establishBindings({dummy:Ne[Pe]},{dummy:e[ke]})),this.affectChanges(Ne[Pe])}}}var Be=parseInt(arguments[2]);LyteComponent.callArrayObservers(e,{type:"array",insertedItems:arguments[3]instanceof Array?arguments[0].slice(Be,Be+be):[arguments[3]],index:Be});break;case"concat":LyteComponent.arrayFunctions(e,"insertAt",e.length,arguments[2]);break;default:return void Lyte.error("LC006",t)}}else console.warn(t+" operation cannot be performed on empty array")},callArrayObservers:function(e,t){if(e._bindings)for(var n=e._bindings.toArrayLyte(),o=0;o<n.length;o++){var r=n[o],i=n[o]._path;if(r._observers)for(var a=r._observers.toArrayLyte(),s=0;s<a.length;s++){var p=a[s];p.isArrayObserver&&(t&&(t.item=i),p.observer.value.call(p.callee&&p.callee.component?p.callee.component:e._setterScope?e._setterScope:window,t))}r.length&&this.affectChanges(r.length)}},establishUpdateBindings:function(e,t,n){for(var o=e.toArrayLyte(),r=0;r<o.length;r++){var i=o[r];i[t]&&(n._bindings||Object.defineProperty(n,"_bindings",{value:new Set,enumerable:!1,configurable:!0,writable:!0}),n._bindings.add(i[t]),this.establishBindings(i[t],n))}},establishSelectedBinding:function(e,t,n){if(e)for(var o=e._path.split("."),r=n.getProperty(o[0]),i=t[o[0]],a=0;a<o.length&&(i&&"object"===(void 0===i?"undefined":_typeof(i)));a++)i._bindings||Object.defineProperty(i,"_bindings",{enumerable:!1,configurable:!0,writable:!0,value:new Set}),i._bindings.add(r),r=r[o[a+1]],i=i[o[a+1]]},establishBindings:function(e,t){if(e._helperNodes)for(var n=e._path,o=e._helperNodes.toArrayLyte(),r=0;r<o.length;r++){var i=o[r]._dynamicProperty?o[r]._dynamicProperty[n]:void 0;if(i)for(var a=0;a<i.length;a++){var s=i[a].ownerElement;if(s&&"TEMPLATE"===s.tagName&&"for"===s.getAttribute("is")&&s._items){s.getAttribute("item");for(var p=0;p<s._items.length;p++){var l=t[p],d=s.getAttribute("item");l&&"object"===_typeof(s._items[p])&&this.establishBindings(s._items[p].itemProperty,_defineProperty({},d,l))}}}}for(var c in e){var m=t[c];m&&"string"!=typeof m&&"number"!=typeof m&&"boolean"!=typeof m?(m._bindings||Object.defineProperty(m,"_bindings",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),m._bindings.add(e[c]),"object"===_typeof(e[c])&&this.establishBindings(e[c],m)):(t._bindings||Object.defineProperty(t,"_bindings",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),t._bindings.add(e))}},removeSelectedBindingDeep:function(e,t){if(t){t._bindings&&(t._bindings.delete(e),t._bindings.size||delete t._bindings);for(var n in e){var o=t[n];o&&o._bindings&&(o._bindings.delete(e[n]),o._bindings.size||delete o._bindings),"object"===_typeof(e[n])&&o&&this.removeSelectedBindingDeep(e[n],o)}if(e._forHelpers)for(var r=e._forHelpers.toArrayLyte(),i=0;i<r.length;i++){var a=r[i];if("for"===a.getAttribute("is")){a.getAttribute("item");for(var s=a._attributes.items,p=a._items,l=0;l<p.length;l++)this.removeSelectedBindingDeep(p[l].itemProperty,s[l])}else a._propBindingObject&&t._bindings&&(t._bindings.delete(a._propBindingObject),t._bindings.size||delete t._bindings,this.removeSelectedBindingDeep(a._propBindingObject,t))}}},removeAllBindings:function(e,t){for(var n in e)t[n]&&t[n]._bindings&&(t[n]._bindings.delete(e[n]),t[n]._bindings.size||delete t[n]._bindings),t[n]&&"string"!=typeof t[n]&&LyteComponent.removeAllBindings(e[n],t[n])},affectChanges:function(e,t,n,o,r){if(e._dynamicNodes)for(var i=0;i<e._dynamicNodes.length;i++)e._dynamicNodes[i]._callee.updateNode(e._dynamicNodes[i],e._path);var a=e._path;if(e._helperNodes)for(var s=[],p=e._helperNodes.toArrayLyte(),l=0;l<p.length;l++)if(e._helperNodes.has(p[l]))if("for"===p[l].getAttribute("is")&&p[l]._items){var d=[];LyteComponent.newAddContext(p[l],d);for(var c=p[l].getAttribute("index"),m=p[l].getAttribute("item"),u=p[l]._callee,f=u.component.data[m],h=u.component.data[c],y=u._properties[m],_=u._properties[c],v=p[l]._attributes.items,g=0;g<p[l]._items.length;g++)if(u.component.data[m]=v[g],u.component.data[c]=g,u._properties[m]=p[l]._items[g].itemProperty,p[l]._items[g]._dynamicProperty[a]){s=p[l]._items[g]._dynamicProperty[a];for(var b=0;b<s.length;b++)s[b]._callee.updateNode(s[b],a)}u.component.data[m]=f,u.component.data[c]=h,u._properties[m]=y,u._properties[c]=_,LyteComponent.newRemoveContext(p[l],d)}else if("forIn"===p[l].getAttribute("is")&&p[l]._items){var C=[];LyteComponent.newAddContext(p[l],C);var L=p[l].getAttribute("key"),w=p[l].getAttribute("value"),A=p[l]._callee,N=A.component.data[w],x=A.component.data[L],E=A._properties[w],I=A._properties[L],S=p[l]._attributes.object;for(var P in p[l]._items)if(A.component.data[w]=S[P],A.component.data[L]=P,A._properties[w]=p[l]._items[P].itemProperty,p[l]._items[P]._dynamicProperty[a]){s=p[l]._items[P]._dynamicProperty[a];for(var k=0;k<s.length;k++)s[k]._callee.updateNode(s[k],a)}A.component.data[w]=N,A.component.data[L]=x,A._properties[w]=E,A._properties[L]=I,LyteComponent.newRemoveContext(p[l],C)}else{s=p[l]._dynamicProperty[e._path]||[];var O=[];LyteComponent.newAddContext(p[l],O);for(var j=0;j<s.length;j++)s[j]._callee.updateNode(s[j],e._path);LyteComponent.newRemoveContext(p[l],O)}if(e._observers)for(var B=e._observers.toArrayLyte(),D=0;D<B.length;D++){var H=B[D];H.observer.value.call(H.callee&&H.callee.component?H.callee.component:o||window,{type:"change",oldValue:n,newValue:r,item:e._path})}if(Array.isArray(e))for(var T=0;T<e.length;T++)for(var M in e[T])this.affectChanges(e[T][M],!0,n?n[T]?n[T][M]:n[T]:n,o,r?r[T]?r[T][M]:r[T]:r);else for(var Y in e)this.affectChanges(e[Y],!0,n?n[Y]:n,o,r?r[Y]:r)},getDynamicData:function(e,t){var n=this;return t.forEach(function(t,o){if(Array.isArray(t)){if(void 0===e)return;var r=LyteComponent.getDynamicData.call(n,n.component.data,t);if(void 0===r)return;e=e[r]}else{if(void 0===e)return;e=e[t]}}),e},get:function(e,t,n){n||(n=[]);try{var o=t.match(/([^[\]]+|\[\])/g),r=e;n.push(o[0]);for(var i=o[0].split("."),a=0;a<i.length;a++)e=e[i[a]];for(var s=1;s<o.length;s++){var p=o[s];if(p.startsWith(".")){for(var l=p.substring(1).split("."),d=0;d<l.length;d++)e=e[l[d]];n[n.length-1]=n[n.length-1]+p}else if(p.startsWith("'")||p.startsWith('"')||!isNaN(p))isNaN(p)?n[n.length-1]=n[0]+"."+p.substring(1,p.length-1):n[n.length-1]=n[0]+"."+p,e=e[p.substring(1,p.length-1)];else{n.length;var c=this.get(r,p,n);n[0]=n[0]+"."+c,e=e[c]}}return e}catch(e){return}},getNew:function(e,t){try{var n=t.match(/([^[\]]+|\[\])/g),o=e,r=n[0].split(".");if(n.length<2){if(r.length<2)return{context:o,lastKey:r[0]};for(var i=0;i<r.length-1;i++)e=e[r[i]];return{context:e,lastKey:r[i]}}for(var a=0;a<r.length;a++)e=e[r[a]];for(var s=1;s<n.length-1;s++){var p=n[s];if(p.startsWith("."))for(var l=p.substring(1).split("."),d=0;d<l.length;d++)e=e[l[d]];else if(p.startsWith("'")||p.startsWith('"')||!isNaN(p))e=e[p.substring(1,p.length-1)];else{e=e[this.get(o,p)]}}var c=n[s];if(c.startsWith(".")){for(var m=c.substring(1).split("."),u=0;u<m.length-1;u++)e=e[m[u]];c=m[u]}else c=c.startsWith("'")||c.startsWith('"')||!isNaN(c)?c.substring(1,c.length-1):this.get(o,c);return{context:e,lastKey:c}}catch(e){return}},componentGetData:function(e){return e?this.get(e):this.data},componentSetData:function(e,t){if("string"==typeof e)this.set(e,t);else if(e instanceof Object)for(var n in e)this.set(n,e[n])},componentGetMethods:function(e){return e?this.methods[e]:this.methods},componentSetMethods:function(e,t){if("string"==typeof e)this.methods[e]=t;else if(e instanceof Object)for(var n in e)this.methods[n]=e[n]},render:function(e,t,n){if(e){var o=document.createElement(e);if(t&&o.setData(t),n){var r=document.querySelector(n);r?(r.appendChild(o),o._callee=o.getCallee(r)):Lyte.error("LC008",n)}return o}Lyte.error("LC007")},String:{upperCaseFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},lowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},toCamelCase:function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})},dasherize:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},appendChild:function(e,t){LyteComponent.ignoreDisconnect=!0,e.appendChild(t),LyteComponent.ignoreDisconnect=!1},replaceWith:function(){var e=Array.from(arguments),t=e.shift();LyteComponent.ignoreDisconnect=!0,t.replaceWith.apply(t,e),LyteComponent.ignoreDisconnect=!1},insertBefore:function(e,t){LyteComponent.ignoreDisconnect=!0,e.parentNode.insertBefore(t,e||null),LyteComponent.ignoreDisconnect=!1},insertAfter:function(){var e=Array.from(arguments),t=e.shift();LyteComponent.ignoreDisconnect=!0,t.after.apply(t,e),LyteComponent.ignoreDisconnect=!1},executeMethod:function(){var e=Array.prototype.slice.call(arguments,1),t=LyteComponent.String.toCamelCase(arguments[0]);if(this.methods[t])return this.methods[t].apply(this,e);Lyte.error("LC009",t)},establishObserverBindings:function(e,t,n){var o=this;t&&(o=t);for(var r=0;r<e.length;r++)for(var i=e[r].properties,a=0;a<i.length;a++){var s=void 0,p=!1;-1!==i[a].indexOf(".[]")?(p=!0,s=LyteComponent.getProperty.call(this,i[a].substring(0,i[a].indexOf(".[]")),t,n)):s=LyteComponent.getProperty.call(this,i[a],t,n),s._observers||Object.defineProperty(s,"_observers",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),s._observers.add({callee:o,observer:e[r],isArrayObserver:p})}},getProperty:function(e,t,n){var o=e.split("."),r=this;t?(r=n,n[o[0]]||(n[o[0]]={}),r=n[o[0]]):(r._properties[o[0]]||(r._properties[o[0]]={}),r=r._properties[o[0]]),Object.defineProperty(r,"_path",{enumerable:!1,value:o[0]});for(var i=1;i<o.length;i++)r[o[i]]||(r[o[i]]={},Object.defineProperty(r[o[i]],"_path",{enumerable:!1,value:r._path+"."+o[i]})),r=r[o[i]];return r},getProperData:function(e){var t=e.dataType,n=e.attr,o=e.newValue,r=e.tagName;switch(t){case"boolean":o=!(!o||"false"===o);break;case"object":try{(o=JSON.parse(o))instanceof Object||console.warn("data type of the value provided for attribute "+n+" of "+r+" is not valid")}catch(e){return void console.warn("attribute "+n+" is not a valid JSON string.")}break;case"array":try{(o=JSON.parse(o))instanceof Array||console.warn("data type of the value provided for attribute "+n+" of "+r+" is not valid")}catch(e){return void console.warn("attribute "+n+" is not a valid JSON string.")}break;case"number":var i=+o;if(o!==i+"")return void console.warn("data type of the value provided for attribute "+n+" of "+r+" is not valid");o=i}return e.newValue=o,!0},cssEscape:function(e){return e?e.replace(/['"]/g,"\\$&"):e}};Lyte.Component.render=LyteComponent.render,LyteComponent.lyteComponentsDiv=document.createElement("div"),LyteComponent.lyteComponentsDiv.setAttribute("id","lyte-components-div"),LyteComponent.dummyLyteComponentsDiv=document.createElement("div"),LyteComponent.dummyLyteComponentsDiv.setAttribute("id","dummy-lyte-components-div"),Set.prototype.toArrayLyte=function(){return"Set"===this.constructor.name?Array.from(this):Array.from(this._values)},"complete"===document.readyState||"interactive"===document.readyState?onDomContentForLyte():document.addEventListener("DOMContentLoaded",function(e){onDomContentForLyte()},!0),LyteComponent.registerHelper("unbound",function(e){return e}),LyteComponent.registerHelper("action",function(e,t,n,o){n?(e._actions=e._actions?e._actions:{},e._actions[t]||(this.createCustomEvent(t,e,o),e.removeAttribute(t))):this.createEventListeners(e,t,o)}),LyteComponent.registerHelper("lbind",function(e){return this.getData(e)}),LyteComponent.registerHelper("method",function(e,t,n){arguments[0],t=arguments[1],n=arguments[2];var o=arguments[0].component,r=t?t.ownerElement:null,i=arguments[1].nodeName;t=null;var a=Array.prototype.slice.call(arguments,3),s=function(){var e=Array.from(arguments),t=a.concat(e);return o.methods[n].apply(o,t)};if(!r)return s;r.set?r.component.methods[LyteComponent.String.toCamelCase(i)]=s:r.setMethods(LyteComponent.String.toCamelCase(i),s)}),LyteComponent.registerHelper("unescape",function(e){var t=document.createElement("div");return t.innerHTML=e,t}),LyteComponent.registerHelper("debugger",function(){}),LyteComponent.registerHelper("log",function(){console.log.apply(window,Array.from(arguments))}),LyteComponent.registerHelper("ifEquals",function(e,t){return e===t}),LyteComponent.registerHelper("if",function(e,t,n){return e?t:n}),LyteComponent.registerHelper("negate",function(e){return!e}),LyteComponent.registerHelper("ifNotEquals",function(e,t){return e!==t}),LyteComponent.registerHelper("concat",function(){for(var e="",t=arguments.length,n=0;n<t;n++)void 0!=arguments[n]&&(e+=arguments[n]);return e}),Object.defineProperty(HTMLElement.prototype,"setData",{enumerable:!1,value:function(e,t){if(this._initProperties=this._initProperties||{},"string"==typeof e)this._initProperties[e]=t;else if(e instanceof Object)for(var n in e)this._initProperties[n]=e[n]}}),Object.defineProperty(HTMLElement.prototype,"setMethods",{enumerable:!1,value:function(e,t){if(this._initMethods=this._initMethods||{},"string"==typeof e)this._initMethods[e]=t;else if(e instanceof Object)for(var n in e)this._initMethods[n]=e[n]}}),LyteComponent.registerHelper("expHandlers",function(e,t,n){if("++"==t){if("postfix"==n)return e++;if("prefix"==n)return++e}else if("--"==t){if("postfix"==n)return e--;if("prefix"==n)return--e}else{if("=="==t||"==="==t)return e==n;if("!="==t||"!=="==t)return e!=n;if("&&"==t)return e&&n;if("||"==t)return e||n;if("+"==t&&n)return e+n;if("-"==t&&n)return e-n;if("*"==t)return e*n;if("/"==t)return e/n;if("%"==t)return e%n;if("<"==t)return e<n;if(">"==t)return e>n;if("<="==t)return e<=n;if(">="==t)return e>=n;if("|"==t)return e|n;if("&"==t)return e&n;if("!"==t)return!e;if("-"==t&&!n)return-e;if("="==t)return e=n;if("+="==t)return e+=n;if("-="==t)return e-=n;if("*="==t)return e*=n;if("/="==t)return e/=n}}),Lyte.Component.register("lyte-event-listener",{_template:'<template tag-name="lyte-event-listener"></template>',_dynamicNodes:[],_observedAttributes:["eventName"],init:function(){var e=this,t=Lyte.addEventListener(this.get("eventName"),function(){var t=Array.prototype.slice.call(arguments);t.splice(0,0,"on-fire"),e.throwEvent.apply(e,t)});this.regId=t},data:function(){return{eventName:Lyte.attr("string")}},didDestroy:function(){Lyte.removeEventListener(this.regId)}}),Lyte.Component.registerCustomPropHandler("ltProp"),LyteComponent.addLyteEventListener=function(e,t,n,o){e._lyteEvents=e._lyteEvents||{},e._lyteEvents[t]=e._lyteEvents[t]||[];return t+"-"+e._lyteEvents[t].push({func:n,fromEventListener:!0,context:o})},LyteComponent.removeLyteEventListener=function(e,t){if(t){var n=t.split("-"),o=(n[0],parseInt(n[1]));e._lyteEvents&&e._lyteEvents[n[0]]&&!isNaN(o)?e._lyteEvents[n[0]][n[1]-1]={}:Lyte.error("Invalid listenerId / listener is not available")}else Lyte.error("No listenerId provided")},LyteComponent.hasLyteEvents=function(e,t){return!(!e._lyteEvents||!e._lyteEvents[t])},LyteComponent.handleLyteEvents=function(e,t){for(var n,o=e._lyteEvents[t.type],r=0;r<o.length;r++)if(o[r].func&&(!1===o[r].func.call(o[r].context?o[r].context:window,t)||t.cancelBubble)){n=!0;break}return n&&t.stopPropagation(),n};