Lyte.Component.register("crux-tag-component",{_template:'<template tag-name="crux-tag-component">\t<template is="switch" value="{{cxPropFrom}}"><template case="view"><template is="if" value="{{cxPropValue}}"><template case="true">\t\t\t\t<ul class="listview_taglists w230 m0 dIB">\t\t\t\t\t<template is="for" items="{{cxPropValue}}" item="val" index="index">\t\t\t\t\t\t<li class="tagElementList f12 bR2 dIB bdr1px">{{val.name}}</li>\t\t\t\t\t</template>\t\t\t\t</ul>\t\t\t</template></template></template><template case="filter"></template><template case="criteria">\t\t\t<lyte-dropdown lt-prop-yield="true" lt-prop-type="multisearch" lt-prop-tabindex="1" on-add="{{method(\'addToList\')}}" on-remove="{{method(\'removeFromList\')}}" lt-prop-disabled-list="{{disabledList}}">\t\t\t\t<template is="registerYield" yield-name="yield">\t\t\t\t\t<lyte-drop-button class="outerbox1">\t\t\t\t\t\t<template is="for" items="{{value}}" item="tag" index="index">\t\t\t\t\t\t\t<span class="singleItem" data-value="{{tag.id}}">{{tag.name}}<lyte-drop-remove class="boxclose">x</lyte-drop-remove></span>\t\t\t\t\t\t</template>\t\t\t\t\t\t<lyte-search lt-prop-type="text" lt-prop-query-selector="{&quot;scope&quot;:&quot;.parentscope_Tag&quot;, &quot;target&quot;:&quot;.cruxTagList&quot;, &quot;search&quot;:&quot;lyte-drop-item&quot;}" on-search="{{method(\'showNoResult\', cxPropField)}}" id="search_Tag" lt-prop-placeholder="{{cruxGetI18n(\'None\')}}"></lyte-search>\t\t\t\t\t</lyte-drop-button>\t\t\t\t\t<lyte-drop-box>\t\t\t\t\t\t<lyte-drop-body class="parentscope_Tag">\t\t\t\t\t\t\t\t<template is="for" items="{{tags}}" item="tag" index="index">\t\t\t\t\t\t\t\t\t<lyte-drop-item class="picklist_values" data-value="{{tag.id}}">{{tag.name}}</lyte-drop-item>\t\t\t\t\t\t\t\t</template>\t\t\t\t\t\t\t<template is="if" value="{{expHandlers(tagsLength,\'!\')}}"><template case="true">\t\t\t\t\t\t\t\t<lyte-drop-item class="picklist_values lyteDropdown-disabled">{{cruxGetI18n(\'crm.label.no.options.found\')}}</lyte-drop-item>\t\t\t\t\t\t\t</template></template>\t\t\t\t\t\t</lyte-drop-body>\t\t\t\t\t</lyte-drop-box>\t\t\t\t</template>\t\t\t</lyte-dropdown>\t\t</template></template></template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"switch",position:[1],cases:{view:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1,0]}]}]}},default:{}}]},filter:{dynamicNodes:[],additional:{next:"criteria"}},criteria:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1,2]}]},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1,1]},{type:"for",position:[3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"attr",position:[3,1,3]},{type:"if",position:[3,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["cxPropValue","cxPropFrom","cxPropModule","tags","value","tagsLength","disabledList"],data:function(){return{cxPropValue:Lyte.attr("array"),cxPropFrom:Lyte.attr("string",{default:"view"}),cxPropModule:Lyte.attr("string"),tags:Lyte.attr("array"),value:Lyte.attr("array",{default:[]}),tagsLength:Lyte.attr("boolean",{default:!0}),disabledList:Lyte.attr("array",{default:["cruxDisabled"]})}},init:function(){var t=this.getData("cxPropFrom");"criteria"!=t&&"filter"!=t||(this.setData("tags",store.peekAll("tag",{module:this.getData("cxPropModule")})),0==this.getData("tags").length&&this.setData("tagsLength",!1))},methods:{addToList:function(t,e,a){Lyte.arrayUtils(this.getData("value"),"push",this.getData("tags").filterBy({id:e})[0]),this.$node.querySelector("lyte-search").ltProp("placeholder",""),this.getData("tags").length==JSON.parse(a).length&&this.setData("tagsLength",!1)},removeFromList:function(t,e){for(var a=this.getData("value"),o=0;o<a.length;o++)if(a[o].id==e){Lyte.arrayUtils(this.getData("value"),"removeAt",o);break}this.setData("tagsLength",!0)}},getValue:function(){return JSON.stringify(this.getData("value"))},valiate:function(){return!0}});